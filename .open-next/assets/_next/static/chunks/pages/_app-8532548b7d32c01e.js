(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{27952:function(e,t,n){"use strict";n.d(t,{g:function(){return eQ}});var r,i,o,s,a,u,c,l,f,h,d,p,g=n(70655);function v(e){return e&&!!["provider"].find(function(t){return e.hasOwnProperty(t)})}function y(e){return void 0!==e.redirectSignIn}(r=a||(a={})).Cognito="COGNITO",r.Google="Google",r.Facebook="Facebook",r.Amazon="LoginWithAmazon",r.Apple="SignInWithApple",(i=u||(u={})).NoConfig="noConfig",i.MissingAuthConfig="missingAuthConfig",i.EmptyUsername="emptyUsername",i.InvalidUsername="invalidUsername",i.EmptyPassword="emptyPassword",i.EmptyCode="emptyCode",i.SignUpError="signUpError",i.NoMFA="noMFA",i.InvalidMFA="invalidMFA",i.EmptyChallengeResponse="emptyChallengeResponse",i.NoUserSession="noUserSession",i.Default="default",i.DeviceConfig="deviceConfig",i.NetworkError="networkError",i.AutoSignInError="autoSignInError",(o=c||(c={})).API_KEY="API_KEY",o.AWS_IAM="AWS_IAM",o.OPENID_CONNECT="OPENID_CONNECT",o.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",o.AWS_LAMBDA="AWS_LAMBDA";var m=n(93769),b=n(20490),w=n(43880),S=n(92752),_=n(99820),C=n(76489);function I(e,t){void 0===t&&(t={});var n,r=e&&"j"===e[0]&&":"===e[1]?e.substr(2):e;if(void 0===(n=t.doNotParse)&&(n=!r||"{"!==r[0]&&"["!==r[0]&&'"'!==r[0]),!n)try{return JSON.parse(r)}catch(e){}return e}var A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},E=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?C.Q(e,t):"object"==typeof e&&null!==e?e:{},new Promise(function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=C.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),I(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=I(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=A(A({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=C.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=A(A({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=A({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=C.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),P=n(59222),T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},U=(0,P.lC)().isBrowser,x=function(){function e(e){void 0===e&&(e={}),this.cookies=new E,this.store=U?window.localStorage:Object.create(null),this.cookies=e.req?new E(decodeURIComponent(e.req.headers.cookie)):new E,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(Array(this.length)).map(function(t,n){return e.key(n)}).forEach(function(t){return e.removeItem(t)})},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){this.setLocalItem(e,t);var n=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(null!=n?n:"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t,n){void 0===n&&(n={}),this.cookies.set(e,t,T(T({},n),{path:"/",sameSite:!0,secure:!U||"localhost"!==window.location.hostname}))},e}(),O=n(6648),k=n(25387),R=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),D=n(48764);if("undefined"!=typeof window&&window.crypto&&(l=window.crypto),!l&&"undefined"!=typeof window&&window.msCrypto&&(l=window.msCrypto),!l&&void 0!==n.g&&n.g.crypto&&(l=n.g.crypto),!l)try{l=n(56249)}catch(e){}var F=function(){function e(e,t){e=this.words=e||[],void 0!=t?this.sigBytes=t:this.sigBytes=4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(function(){if(l){if("function"==typeof l.getRandomValues)try{return l.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof l.randomBytes)try{return l.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")}());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),N=n(41938);function M(e,t){null!=e&&this.fromString(e,t)}function j(){return new M(null)}var L="undefined"!=typeof navigator;L&&"Microsoft Internet Explorer"==navigator.appName?(M.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},f=30):L&&"Netscape"!=navigator.appName?(M.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},f=26):(M.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},f=28),M.prototype.DB=f,M.prototype.DM=(1<<f)-1,M.prototype.DV=1<<f,M.prototype.FV=4503599627370496,M.prototype.F1=52-f,M.prototype.F2=2*f-52;var B=[];for(d=0,h=48;d<=9;++d)B[h++]=d;for(d=10,h=97;d<36;++d)B[h++]=d;for(d=10,h=65;d<36;++d)B[h++]=d;function q(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function K(e){var t=j();return t.fromInt(e),t}function V(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function H(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function G(e){return D.lW.from(new F().random(e).toString(),"hex")}H.prototype.convert=function(e){var t=j();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(M.ZERO)>0&&this.m.subTo(t,t),t},H.prototype.revert=function(e){var t=j();return e.copyTo(t),this.reduce(t),t},H.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},H.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},M.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},M.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},M.prototype.fromString=function(e,t){if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else if(4==t)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n,r=e.length,i=!1,o=0;--r>=0;){var s=function(e,t){var n=B[e.charCodeAt(t)];return null==n?-1:n}(e,r);if(s<0){"-"==e.charAt(r)&&(i=!0);continue}i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB)}this.clamp(),i&&M.ZERO.subTo(this,this)},M.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},M.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},M.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},M.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},M.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()},M.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},M.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&M.ZERO.subTo(t,t)},M.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},M.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t){null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);return}null==n&&(n=j());var o=j(),s=this.s,a=e.s,u=this.DB-V(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),h=this.FV/f,d=(1<<this.F1)/f,p=1<<this.F2,g=n.t,v=g-c,y=null==t?j():t;for(o.dlShiftTo(v,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),M.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=n[--g]==l?this.DM:Math.floor(n[g]*h+(n[g-1]+p)*d);if((n[g]+=o.am(0,m,n,v,0,c))<m)for(o.dlShiftTo(v,y),n.subTo(y,n);n[g]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&M.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&M.ZERO.subTo(n,n)}}},M.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},M.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},M.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else if(4==e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");var t,n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=q(n));s>=0;)a<t?n=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=q(n));return i?o:"0"},M.prototype.negate=function(){var e=j();return M.ZERO.subTo(this,e),e},M.prototype.abs=function(){return this.s<0?this.negate():this},M.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},M.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+V(this[this.t-1]^this.s&this.DM)},M.prototype.mod=function(e){var t=j();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(M.ZERO)>0&&e.subTo(t,t),t},M.prototype.equals=function(e){return 0==this.compareTo(e)},M.prototype.add=function(e){var t=j();return this.addTo(e,t),t},M.prototype.subtract=function(e){var t=j();return this.subTo(e,t),t},M.prototype.multiply=function(e){var t=j();return this.multiplyTo(e,t),t},M.prototype.divide=function(e){var t=j();return this.divRemTo(e,t,null),t},M.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=K(1),s=new H(t);if(i<=0)return o;var a=[],u=3,c=(r=i<18?1:i<48?3:i<144?4:i<768?5:6)-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var f=j();for(s.sqrTo(a[1],f);u<=l;)a[u]=j(),s.mulTo(f,a[u-2],a[u]),u+=2}var h,d,p=e.t-1,g=!0,v=j();for(i=V(e[p])-1;p>=0;){for(i>=c?h=e[p]>>i-c&l:(h=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(h|=e[p-1]>>this.DB+i-c)),u=r;(1&h)==0;)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[h].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(d=o,o=v,v=d),s.mulTo(v,a[h],o)}for(;p>=0&&(e[p]&1<<i)==0;)s.sqrTo(o,v),d=o,o=v,v=d,--i<0&&(i=this.DB-1,--p)}var y=s.revert(o);return n(null,y),y},M.ZERO=K(0),M.ONE=K(1);var Q=/^[89a-f]/i,W=function(){function e(e){this.N=new M("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new M("2",16),this.k=new M(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=D.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)})},t.generateRandomSmallA=function(){return new M(G(128).toString("hex"),16)},t.generateRandomString=function(){return G(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=G(16).toString("hex");this.SaltToHashDevices=this.padHex(new M(s,16)),this.g.modPow(new M(this.hexHash(this.SaltToHashDevices+o),16),this.N,function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)})},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,function(e,r){e&&t(e,null),r.mod(n.N).equals(M.ZERO)&&t(Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)})},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new M(this.UHexHash,16)},t.hash=function(e){var t=new N.Sha256;t.update(e);var n=t.digestSync(),r=D.lW.from(n).toString("hex");return Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(D.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=D.lW.concat([this.infoBits,D.lW.from("\x01","utf8")]),r=new N.Sha256(t);r.update(e);var i=r.digestSync(),o=new N.Sha256(i);return o.update(n),o.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(M.ZERO))throw Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(M.ZERO))throw Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new M(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,function(e,t){e&&i(e,null),i(null,o.computehkdf(D.lW.from(o.padHex(t),"hex"),D.lW.from(o.padHex(o.UValue),"hex")))})},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,function(e,t){e&&n(e,null),n(null,t.mod(r.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof M))throw Error("Not a BigInteger");var t=0>e.compareTo(M.ZERO),n=e.abs().toString(16);return n=n.length%2!=0?"0"+n:n,n=Q.test(n)?"00"+n:n,t&&(n=new M(n.split("").map(function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(M.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2)),n},e}(),z=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(D.lW.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Z(t,e),t}(z);function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,J(t,e),t}(z),X=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),ee={userAgent:"aws-amplify/5.0.4",isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product},et=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),en=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],er=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ei=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=er[e.getUTCDay()],n=en[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),eo=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),es={},ea=function(){function e(){}return e.setItem=function(e,t){return es[e]=t,es[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(es,e)?es[e]:void 0},e.removeItem=function(e){return delete es[e]},e.clear=function(){return es={}},e}(),eu=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=ea}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),ec="undefined"!=typeof navigator?ee.isReactNative?"react-native":navigator.userAgent:"nodejs",el=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||new eu().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))})},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new W(this.pool.getUserPoolName()),s=new ei,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue(function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:l};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new M(c.SRP_B,16),r=new M(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,function(e,n){e&&t.onFailure(e);var r=s.getNowString(),a=D.lW.concat([D.lW.from(i.pool.getUserPoolName(),"utf8"),D.lW.from(i.username,"utf8"),D.lW.from(c.SECRET_BLOCK,"base64"),D.lW.from(r,"utf8")]),f=new N.Sha256(n);f.update(a);var h=f.digestSync(),d=D.lW.from(h).toString("base64"),p={};p.USERNAME=i.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=r,p.PASSWORD_CLAIM_SIGNATURE=d,null!=i.deviceKey&&(p.DEVICE_KEY=i.deviceKey);var g={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:p,Session:u.Session,ClientMetadata:l};i.getUserContextData()&&(g.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)})}(g,function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)})})})})},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),!r.PASSWORD){t.onFailure(Error("PASSWORD parameter is required"));return}var i=new W(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)})},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i){this.Session=e.Session,this.getDeviceResponse(n);return}this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(i){if(i)return n.onFailure(i);var o={Salt:D.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:D.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:ec},function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary)?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession)})})},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(Error("New password is required."));var o=new W(this.pool.getUserPoolName()),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach(function(e){a[s+e]=t[e]}),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)})},t.getDeviceResponse=function(e,t){var n=this,r=new W(this.deviceGroupKey),i=new ei,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue(function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new M(s.SRP_B,16),u=new M(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,u,function(t,r){if(t)return e.onFailure(t);var a=i.getNowString(),u=D.lW.concat([D.lW.from(n.deviceGroupKey,"utf8"),D.lW.from(n.deviceKey,"utf8"),D.lW.from(s.SECRET_BLOCK,"base64"),D.lW.from(a,"utf8")]),c=new N.Sha256(r);c.update(u);var l=c.digestSync(),f=D.lW.from(l).toString("base64"),h={};h.USERNAME=n.username,h.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,h.TIMESTAMP=a,h.PASSWORD_CLAIM_SIGNATURE=f,h.DEVICE_KEY=n.deviceKey;var d={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:h,Session:o.Session};n.getUserContextData()&&(d.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",d,function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))})})})})},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,function(e){return e?n(e,null):n(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new W(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)})},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"===n.ChallengeName){i.getDeviceResponse(t);return}if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new W(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return t.onFailure(e);var o={Salt:D.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:D.lW.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:ec},function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary)?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession)})})})},t.changePassword=function(e,t,n,r){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return n(Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(e){return e?n(e,null):n(null,"SUCCESS")})},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n(e,null):n(null,"SUCCESS")})},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))})},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},function(e,n){return e?t(e,null):r.getUserData(function(){return t(null,"SUCCESS",n)},{bypassCache:!0})})},t.getUserAttributes=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o=new eo({Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value});r.push(o)}return e(null,r)})},t.getMFAOptions=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e(t,null):e(null,n.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise(function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()})},t.getUserData=function(e,t){var n=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return this.clearCachedUserData(),e(Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(!r){this.fetchUserData().then(function(t){e(null,t)}).catch(e);return}if(this.isFetchUserDataAndTokenRequired(t)){this.fetchUserData().then(function(e){return n.refreshSessionIfPossible(t).then(function(){return e})}).then(function(t){return e(null,t)}).catch(e);return}try{e(null,JSON.parse(r));return}catch(t){this.clearCachedUserData(),e(t,null);return}},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(t){return e.cacheUserData(t),t})},t.deleteAttributes=function(e,t){var n=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return t(Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):n.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,function(t,n){return t?e(t,null):e(null,n)})},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken";if(this.storage.getItem(r)){var i=new $({IdToken:this.storage.getItem(r)}),o=new Y({AccessToken:this.storage.getItem(n+".accessToken")}),s=new X({RefreshToken:this.storage.getItem(n+".refreshToken")}),a=new et({IdToken:i,AccessToken:o,RefreshToken:s,ClockDrift:parseInt(this.storage.getItem(n+".clockDrift"),0)||0});if(a.isValid())return this.signInUserSession=a,e(null,this.signInUserSession);if(!s.getToken())return e(Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(s,e,t.clientMetadata)}else e(Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}})},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(e+".LastAuthUser",this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.setItem(e+".deviceKey",this.deviceKey),this.storage.setItem(e+".randomPasswordKey",this.randomPassword),this.storage.setItem(e+".deviceGroupKey",this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(e+".randomPasswordKey"),this.deviceGroupKey=this.storage.getItem(e+".deviceGroupKey"))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.removeItem(e+".deviceKey"),this.storage.removeItem(e+".randomPasswordKey"),this.storage.removeItem(e+".deviceGroupKey")},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(e+".LastAuthUser"),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){return new et({IdToken:new $(e),AccessToken:new Y(e),RefreshToken:new X(e)})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)})},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")})},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")})},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(t,n){return t?e.onFailure(t):e.onSuccess(n)})},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,function(e,t){return e?n.onFailure(e):n.onSuccess(t)})},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))})},t.signOut=function(e){var t=this;if(!e||"function"!=typeof e){this.cleanClientData();return}this.getSession(function(n,r){if(n)return e(n);t.revokeTokens(function(n){t.cleanClientData(),e(n)})})},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},function(e){if(e)return n(e);n()})},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e)?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0})},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))})},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},function(e,t){return e?n.onFailure(e):n.onSuccess(t)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))})})},e}();function ef(){}n(63144),ef.prototype.userAgent=ee.userAgent;var eh=function(){ef.category="auth"},ed=function(e){ef.framework=e},ep=function(e){var t=ef.category?" "+ef.category:"",n=ef.framework?" framework/"+ef.framework:"";return""+ef.prototype.userAgent+t+n};function eg(e){var t="function"==typeof Map?new Map:void 0;return(eg=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ev(e,arguments,em(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ey(n,e)})(e)}function ev(e,t,n){return(ev=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ey(i,n.prototype),i}:Reflect.construct.bind()).apply(null,arguments)}function ey(e,t){return(ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function em(e){return(em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eb=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ey(t,e),t}(eg(Error)),ew=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise(function(r,i){n.request(e,t,function(e,t){e?i(new eb(e.message,e.code,e.name,e.statusCode)):r(t)})})},t.requestWithRetry=function(e,t,n){var r=this;(function e(t,n,r,i){if(void 0===i&&(i=1),"function"!=typeof t)throw Error("functionToRetry must be a function");return eS.debug(t.name+" attempt #"+i+" with args: "+JSON.stringify(n)),t.apply(void 0,n).catch(function(o){if(eS.debug("error on "+t.name,o),o&&o.nonRetryable)throw eS.debug(t.name+" non retryable error",o),o;var s=r(i,n,o);if(eS.debug(t.name+" retrying in "+s+" ms"),!1!==s)return new Promise(function(e){return setTimeout(e,s)}).then(function(){return e(t,n,r,i+1)});throw o})})(function(t){return new Promise(function(n,i){r.request(e,t,function(e,t){e?i(e):n(t)})})},[t],function(e){var t=100*Math.pow(2,e)+100*Math.random();return!(t>5e3)&&t}).then(function(e){return n(null,e)}).catch(function(e){return n(e)})},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":ep(),"Cache-Control":"no-store"},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,o).then(function(e){return r=e,e},function(e){if(e instanceof TypeError)throw Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(r.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),i=Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)}).catch(function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(e){}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)})},e}(),eS={debug:function(){}},e_=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new ew(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||new eu().getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,function(t,n){return t?i(t,null):i(null,{user:new el({Username:e,Pool:s,Storage:s.storage}),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails})})},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);return t?new el({Username:t,Pool:this,Storage:this.storage}):null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),eC=n(36808),eI=function(){function e(e){if(void 0===e&&(e={}),e.domain&&(this.domain=e.domain),e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),eC.set(e,t,n),eC.get(e)},t.getItem=function(e){return eC.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),eC.remove(e,t)},t.clear=function(){for(var e=eC.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),eA=n(11987),eE=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},eP=function(e){window.sessionStorage.setItem("oauth_state",e)},eT=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},eU=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},ex=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},eO=n(89841),ek=n(88229),eR="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",eD=function(e,t,n){b.X.dispatch("auth",{event:e,data:t,message:n},"Auth",eR)},eF=new m.k("OAuth"),eN=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||eE,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=a.Cognito);var s=this._generateState(32),u=o?s+"-"+o.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join(""):s;eP(u);var c=this._generateRandom(128);eU(c);var l=this._generateChallenge(c),f=this._scopes.join(" "),h="https://"+t+"/oauth2/authorize?"+Object.entries((0,g.__assign)((0,g.__assign)({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:f,state:u},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(e){var t=(0,g.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&");eF.debug("Redirecting to "+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,h,d,p,v,m;return(0,g.__generator)(this,function(b){switch(b.label){case 0:if(t=((0,eA.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,r=(0,g.__read)(t,2),i=r[0],o=r[1];return(0,g.__assign)((0,g.__assign)({},e),((n={})[i]=o,n))},{code:void 0}).code,n=(0,eA.parse)(e).pathname||"/",r=(0,eA.parse)(this._config.redirectSignIn).pathname||"/",!t||n!==r)return[2];return eD("codeFlow",{},"Retrieving tokens from "+(i="https://"+this._config.domain+"/oauth2/token")),o=y(this._config)?this._cognitoClientId:this._config.clientID,s=y(this._config)?this._config.redirectSignIn:this._config.redirectUri,a=ex(),u=(0,g.__assign)({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:s},a?{code_verifier:a}:{}),eF.debug("Calling token endpoint: "+i+" with",u),c=Object.entries(u).map(function(e){var t=(0,g.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&"),l={category:eO.WD.Auth,action:eO.g4.FederatedSignIn},[4,fetch(i,{method:"POST",headers:((m={"Content-Type":"application/x-www-form-urlencoded"})[ek.M]=(0,S.Zm)(l),m),body:c})];case 1:return[4,b.sent().json()];case 2:if(h=(f=b.sent()).access_token,d=f.refresh_token,p=f.id_token,v=f.error)throw Error(v);return[2,{accessToken:h,refreshToken:d,idToken:p}]}})})},e.prototype._handleImplicitFlow=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,g.__generator)(this,function(i){return n=(t=((0,eA.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,r=(0,g.__read)(t,2),i=r[0],o=r[1];return(0,g.__assign)((0,g.__assign)({},e),((n={})[i]=o,n))},{id_token:void 0,access_token:void 0})).id_token,r=t.access_token,eD("implicitFlow",{},"Got tokens from "+e),eF.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return(0,g.__generator)(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),n=(t=e?(0,g.__assign)((0,g.__assign)({},((0,eA.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=(0,g.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e},{})),((0,eA.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=(0,g.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e},{})):{}).error,r=t.error_description,n)throw Error(r);if(i=this._validateState(t),eF.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType)return[3,2];return o=[{}],[4,this._handleCodeFlow(e)];case 1:return[2,g.__assign.apply(void 0,[g.__assign.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,g.__assign.apply(void 0,[g.__assign.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),eF.debug("Error handling auth response.",a),a;case 6:return[2]}})})},e.prototype._validateState=function(e){if(e){var t=eT(),n=e.state;if(t&&t!==n)throw Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,t,n;return(0,g.__generator)(this,function(r){return e="https://"+this._config.domain+"/logout?",t=y(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=y(this._config)?this._config.redirectSignOut:this._config.returnTo,eD("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+(e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map(function(e){var t=(0,g.__read)(e,2);return t[0]+"="+t[1]}).join("&"))),eF.debug("Signing out from "+e),[2,this._urlOpener(e,n)]})})},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){var t=new N.Sha256;t.update(e);var n=t.digestSync(),r=D.lW.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=66*Math.random()|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}(),eM=function(e){if((0,P.lC)().isBrowser&&window.location)e({url:window.location.href});else if((0,P.lC)().isNode);else throw Error("Not supported")};(s=p||(p={})).DEFAULT_MSG="Authentication Error",s.EMPTY_EMAIL="Email cannot be empty",s.EMPTY_PHONE="Phone number cannot be empty",s.EMPTY_USERNAME="Username cannot be empty",s.INVALID_USERNAME="The username should either be a string or one of the sign in types",s.EMPTY_PASSWORD="Password cannot be empty",s.EMPTY_CODE="Confirmation code cannot be empty",s.SIGN_UP_ERROR="Error creating account",s.NO_MFA="No valid MFA method provided",s.INVALID_MFA="Invalid MFA type",s.EMPTY_CHALLENGE="Challenge response cannot be empty",s.NO_USER_SESSION="Failed to get the session because the user is empty",s.NETWORK_ERROR="Network Error",s.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",s.AUTOSIGNIN_ERROR="Please use your credentials to sign in";var ej=new m.k("AuthError"),eL=function(e){function t(n){var r=this,i=eq[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||o,ej.error(r.log),r}return(0,g.__extends)(t,e),t}(Error),eB=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return(0,g.__extends)(t,e),t}(eL),eq={noConfig:{message:p.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:p.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:p.EMPTY_USERNAME},invalidUsername:{message:p.INVALID_USERNAME},emptyPassword:{message:p.EMPTY_PASSWORD},emptyCode:{message:p.EMPTY_CODE},signUpError:{message:p.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:p.NO_MFA},invalidMFA:{message:p.INVALID_MFA},emptyChallengeResponse:{message:p.EMPTY_CHALLENGE},noUserSession:{message:p.NO_USER_SESSION},deviceConfig:{message:p.DEVICE_CONFIG},networkError:{message:p.NETWORK_ERROR},autoSignInError:{message:p.AUTOSIGNIN_ERROR},default:{message:p.DEFAULT_MSG}},eK=new m.k("AuthClass"),eV="aws.cognito.signin.user.admin",eH="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",eG=function(e,t,n){b.X.dispatch("auth",{event:e,data:t,message:n},"Auth",eH)},eQ=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=w.c,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?eG("tokenRefresh",void 0,"New token retrieved"):eG("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),b.X.listen("auth",function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}),eh(),ed(S.t4.framework),S.t4.observeFrameworkChanges(function(){ed(S.t4.framework)})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};eK.debug("configure Auth");var n=Object.assign({},this._config,(0,_.h)(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,s=r.cookieStorage,a=r.oauth,c=r.region,l=r.identityPoolId,f=r.mandatorySignIn,h=r.refreshHandlers,d=r.identityPoolRegion,p=r.clientMetadata,g=r.endpoint,v=r.storage;if(v){if(!this._isValidAuthStorage(v))throw eK.error("The storage in the Auth config is not valid!"),Error("Empty storage object");this._storage=v}else s?this._storage=new eI(s):this._storage=e.ssr?new x:new O.c().getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var m={UserPoolId:i,ClientId:o,endpoint:g};m.Storage=this._storage,this.userPool=new e_(m,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:f,region:c,userPoolId:i,identityPoolId:l,refreshHandlers:h,storage:this._storage,identityPoolRegion:d});var b=a?y(this._config.oauth)?a:a.awsCognito:void 0;if(b){var w=Object.assign({cognitoClientId:o,UserPoolId:i,domain:b.domain,scopes:b.scope,redirectSignIn:b.redirectSignIn,redirectSignOut:b.redirectSignOut,responseType:b.responseType,Storage:this._storage,urlOpener:b.urlOpener,clientMetadata:p},b.options);this._oAuthHandler=new eN({scopes:w.scopes,config:w,cognitoClientId:w.cognitoClientId});var S={};eM(function(e){var n=e.url;S[n]||(S[n]=!0,t._handleAuthResponse(n))})}return eG("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(eG("autoSignIn_failure",null,u.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,n,r,i,o=this,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var c=null,l=null,f=[],h=null,d={enabled:!1},p={},g={};if(e&&"string"==typeof e){c=e,l=s?s[0]:null;var v=s?s[1]:null,y=s?s[2]:null;v&&f.push(new eo({Name:"email",Value:v})),y&&f.push(new eo({Name:"phone_number",Value:y}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(u.SignUpError);c=e.username,l=e.password,e&&e.clientMetadata?i=e.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata);var m=e.attributes;m&&Object.keys(m).map(function(e){f.push(new eo({Name:e,Value:m[e]}))});var b=e.validationData;b&&(h=[],Object.keys(b).map(function(e){h.push(new eo({Name:e,Value:b[e]}))})),(d=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),p=null!==(n=d.validationData)&&void 0!==n?n:{},g=null!==(r=d.clientMetaData)&&void 0!==r?r:{})}return c?l?(eK.debug("signUp attrs:",f),eK.debug("signUp validation data:",h),new Promise(function(e,t){o.userPool.signUp(c,l,f,h,function(n,r){n?(eG("signUp_failure",n,c+" failed to signup"),t(n)):(eG("signUp",r,c+" has signed up successfully"),d.enabled&&o.handleAutoSignIn(c,l,p,g,r),e(r))},i)})):this.rejectAuthError(u.EmptyPassword):this.rejectAuthError(u.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,i){this.autoSignInInitiated=!0;var o=new R({Username:e,Password:t,ValidationData:n,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};b.X.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval(function(){Date.now()-n>18e4?(clearInterval(r),eG("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)},5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return(0,g.__awaiter)(this,void 0,void 0,function(){var r,i,o=this;return(0,g.__generator)(this,function(s){switch(s.label){case 0:r=this.createCognitoUser(e.getUsername()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,function(r){eG("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&b.X.remove("auth",t),n&&(clearInterval(n),o._storage.removeItem("amplify-polling-started")),o._storage.removeItem("amplify-auto-sign-in")},function(e){eK.error(e),o._storage.removeItem("amplify-auto-sign-in")}))];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),eK.error(i),[3,4];case 4:return[2]}})})},e.prototype.confirmSignUp=function(e,t,n){var r,i=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(u.EmptyUsername);if(!t)return this.rejectAuthError(u.EmptyCode);var o=this.createCognitoUser(e),s=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise(function(n,a){o.confirmRegistration(t,s,function(t,r){t?a(t):(eG("confirmSignUp",r,e+" has been confirmed successfully"),i.isTrueStorageValue("amplify-auto-sign-in")&&!i.autoSignInInitiated&&(eG("autoSignIn_failure",null,u.AutoSignInError),i._storage.removeItem("amplify-auto-sign-in")),n(r))},r)})},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(u.EmptyUsername);var n=this.createCognitoUser(e);return new Promise(function(e,r){n.resendConfirmationCode(function(t,n){t?r(t):e(n)},t)})},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"==typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(u.InvalidUsername);void 0!==t&&eK.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(u.EmptyUsername);var s=new R({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return(0,g.__awaiter)(r,void 0,void 0,function(){var r,s,a,u;return(0,g.__generator)(this,function(c){switch(c.label){case 0:eK.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),eK.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),eK.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,eG("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),eK.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(t){eK.debug("signIn failure",t),eG("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){eK.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){eK.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){eK.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){eK.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){eK.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){eK.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(r,i){n.authenticateUser(e,t.authCallbacks(n,function(e){t.pendingSignIn=null,r(e)},function(e){t.pendingSignIn=null,i(e)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))})},e.prototype.getMFAOptions=function(e){return new Promise(function(t,n){e.getMFAOptions(function(e,r){if(e){eK.debug("get MFA Options failed",e),n(e);return}eK.debug("get MFA options success",r),t(r)})})},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise(function(i,o){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData(function(t,s){return(0,g.__awaiter)(n,void 0,void 0,function(){var n,a;return(0,g.__generator)(this,function(u){switch(u.label){case 0:if(!t)return[3,5];if(eK.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:if(!(a=r._getMfaTypeFromUserData(s)))return o("invalid MFA Type"),[2];return i(a),[2]}})})},{bypassCache:a,clientMetadata:s})})},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;r?0===r.length?t="NOMFA":eK.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise(function(r,i){e.getUserData(function(t,o){return(0,g.__awaiter)(n,void 0,void 0,function(){var n;return(0,g.__generator)(this,function(s){switch(s.label){case 0:if(!t)return[3,5];if(eK.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),i(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),s.label=6;case 6:return[2]}})})},t)})},e.prototype.setPreferredMFA=function(e,t){return(0,g.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,c=this;return(0,g.__generator)(this,function(l){switch(l.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=l.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(a=l.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===a)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==a)return[2,this.rejectAuthError(u.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach(function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return eK.debug("no validmfa method provided"),[2,this.rejectAuthError(u.NoMFA)];case 7:return[2,new Promise(function(t,r){e.setUserMfaPreference(i,o,function(i,o){if(i)return eK.debug("Set user mfa preference error",i),r(i);eK.debug("Set user mfa success",o),eK.debug("Caching the latest user data into local"),e.getUserData(function(n,i){return(0,g.__awaiter)(c,void 0,void 0,function(){var i;return(0,g.__generator)(this,function(s){switch(s.label){case 0:if(!n)return[3,5];if(eK.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}})})},{bypassCache:!0,clientMetadata:n})})})]}})})},e.prototype.disableSMS=function(e){return new Promise(function(t,n){e.disableMFA(function(e,r){if(e){eK.debug("disable mfa failed",e),n(e);return}eK.debug("disable mfa succeed",r),t(r)})})},e.prototype.enableSMS=function(e){return new Promise(function(t,n){e.enableMFA(function(e,r){if(e){eK.debug("enable mfa failed",e),n(e);return}eK.debug("enable mfa succeed",r),t(r)})})},e.prototype.setupTOTP=function(e){return new Promise(function(t,n){e.associateSoftwareToken({onFailure:function(e){eK.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){eK.debug("associateSoftwareToken success",e),t(e)}})})},e.prototype.verifyTotpToken=function(e,t){eK.debug("verification totp token",e,t),e&&"function"==typeof e.getSignInUserSession&&(n=e.getSignInUserSession());var n,r=null==n?void 0:n.isValid();return new Promise(function(n,i){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){eK.debug("verifyTotpToken failed",e),i(e)},onSuccess:function(t){r||eG("signIn",e,"A user "+e.getUsername()+" has been signed in"),eG("verify",e,"A user "+e.getUsername()+" has been verified"),eK.debug("verifyTotpToken success",t),n(t)}})})},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(u.EmptyCode);var o=this;return new Promise(function(s,a){e.sendMFACode(t,{onSuccess:function(t){return(0,g.__awaiter)(i,void 0,void 0,function(){var n,r,i,a;return(0,g.__generator)(this,function(u){switch(u.label){case 0:eK.debug(t),u.label=1;case 1:return u.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return u.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=u.sent(),eK.debug("succeed to get cognito credentials",n),[3,10];case 4:return r=u.sent(),eK.debug("cannot get cognito credentials",r),[3,10];case 5:o.user=e,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return i=u.sent(),e.attributes=i.attributes,[3,9];case 8:return a=u.sent(),eK.debug("cannot get updated Cognito User",a),[3,9];case 9:return eG("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 10:return[2]}})})},onFailure:function(e){eK.debug("confirm signIn failure",e),a(e)}},n,r)})},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(u.EmptyPassword);var o=this;return new Promise(function(s,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return(0,g.__awaiter)(i,void 0,void 0,function(){var n,r;return(0,g.__generator)(this,function(i){switch(i.label){case 0:eK.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),eK.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),eK.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,eG("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}})})},onFailure:function(e){eK.debug("completeNewPassword failure",e),eG("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){eK.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,s(e)},mfaSetup:function(t,n){eK.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)},totpRequired:function(t,n){eK.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)}},r)})},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return(void 0===n&&(n=this._config.clientMetadata),this.userPool)?t?new Promise(function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}):this.rejectAuthError(u.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise(function(r,i){n.userSession(e).then(function(n){e.deleteAttributes(t,function(e,t){return e?i(e):r(t)})})})},e.prototype.deleteUser=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,t,n=this;return(0,g.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),eK.debug("Failed to sync cache info into memory",e),Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(e,r){return(0,g.__awaiter)(n,void 0,void 0,function(){var n,i=this;return(0,g.__generator)(this,function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return eK.debug("Failed to get user from user pool"),[2,r(Error("No current user."))];n.getSession(function(o,s){return(0,g.__awaiter)(i,void 0,void 0,function(){var i,s=this;return(0,g.__generator)(this,function(a){switch(a.label){case 0:if(!o)return[3,5];if(eK.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser(function(i,o){if(i)r(i);else{eG("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),s.user=null;try{s.cleanCachedItems()}catch(e){eK.debug("failed to clear cached items")}t?s.oAuthSignOutRedirect(e,r):(eG("signOut",s.user,"A user has been signed out"),e(o))}}),a.label=6;case 6:return[2]}})})})}else eK.debug("no Congito User pool"),r(Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise(function(s,a){o.userSession(e).then(function(o){for(var u in t)if("sub"!==u&&0>u.indexOf("_verified")){var c={Name:u,Value:t[u]};i.push(c)}e.updateAttributes(i,function(e,n,i){return e?(eG("updateUserAttributes_failure",e,"Failed to update attributes"),a(e)):(eG("updateUserAttributes",r.createUpdateAttributesResultList(t,null==i?void 0:i.CodeDeliveryDetailsList),"Attributes successfully updated"),s(n))},n)})})},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach(function(e){n[e]={isUpdated:!0};var r=null==t?void 0:t.find(function(t){return t.AttributeName===e});r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)}),n},e.prototype.userAttributes=function(e){var t=this;return new Promise(function(n,r){t.userSession(e).then(function(t){e.getUserAttributes(function(e,t){e?r(e):n(t)})})})},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}})},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isPasswordResetRequiredError=function(e){return this.isErrorWithMessage(e)&&"Password reset required for the user"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)||this.isPasswordResetRequiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,g.__generator)(this,function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),eK.debug("failed to clear cached items"),[3,4];case 4:if(this.isSignedInHostedUI())return[2,new Promise(function(e,n){t.oAuthSignOutRedirect(e,n)})];return eG("signOut",this.user,"A user has been signed out"),[2]}})})},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise(function(n,r){t._storageSync.then(function(){return(0,g.__awaiter)(t,void 0,void 0,function(){var t,i,o,s,a,u=this;return(0,g.__generator)(this,function(c){switch(c.label){case 0:if(!this.isOAuthInProgress())return[3,2];return eK.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(e){var t=setTimeout(function(){eK.debug("OAuth signIn in progress timeout"),b.X.remove("auth",n),e()},1e4);function n(r){var i=r.payload.event;("cognitoHostedUI"===i||"cognitoHostedUI_failure"===i)&&(eK.debug("OAuth signIn resolved: "+i),clearTimeout(t),b.X.remove("auth",n),e())}b.X.listen("auth",n)})];case 1:c.sent(),c.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return eK.debug("Failed to get user from user pool"),r("No current user"),[2];c.label=3;case 3:return c.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:if(i=c.sent(),!(o=!!e&&e.bypassCache))return[3,6];return[4,this.Credentials.clear()];case 5:c.sent(),c.label=6;case 6:if(s=this._config.clientMetadata,!(void 0===(a=i.getAccessToken().decodePayload().scope)?"":a).split(" ").includes(eV))return eK.debug("Unable to get the user data because the "+eV+" is not in the scopes of the access token"),[2,n(t)];return t.getUserData(function(e,i){return(0,g.__awaiter)(u,void 0,void 0,function(){var o,s,a,u,c,l;return(0,g.__generator)(this,function(f){switch(f.label){case 0:if(!e)return[3,7];if(eK.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return o=f.sent(),r(Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),f.label=6;case 6:return[2];case 7:for(u=0,s=i.PreferredMfaSetting||"NOMFA",a=[];u<i.UserAttributes.length;u++)c=new eo({Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value}),a.push(c);return l=this.attributesToObject(a),Object.assign(t,{attributes:l,preferredMFA:s}),[2,n(t)]}})})},{bypassCache:o,clientMetadata:s}),[3,8];case 7:return r(c.sent()),[3,8];case 8:return[2]}})})}).catch(function(e){return eK.debug("Failed to sync cache info into memory",e),r(e)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,g.__generator)(this,function(s){switch(s.label){case 0:eK.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),eK.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=(0,g.__assign)((0,g.__assign)({},r.user),{token:r.token}))}catch(e){eK.debug("cannot load federated user from auth storage")}if(!t)return[3,5];return this.user=t,eK.debug("get current authenticated federated user",this.user),[2,this.user];case 5:eK.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&eK.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),eK.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}})})},e.prototype.currentSession=function(){var e=this;return(eK.debug("Getting current session"),this.userPool)?new Promise(function(t,n){e.currentUserPoolUser().then(function(r){e.userSession(r).then(function(e){t(e)}).catch(function(e){eK.debug("Failed to get the current session",e),n(e)})}).catch(function(e){eK.debug("Failed to get the current user",e),n(e)})}):Promise.reject(Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var t,n,r=this;return(0,g.__generator)(this,function(i){switch(i.label){case 0:if(!e)return eK.debug("the user is null"),[2,this.rejectAuthError(u.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise(function(n,i){e.getSession(function(t,o){return(0,g.__awaiter)(r,void 0,void 0,function(){var r;return(0,g.__generator)(this,function(s){switch(s.label){case 0:if(!t)return[3,5];if(eK.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return r=s.sent(),i(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return i(t),[2];case 5:return eK.debug("Succeed to get the user session",o),n(o),[2]}})})},{clientMetadata:t})})),this.inflightSessionPromiseCounter++,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=i.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,t,n=this;return(0,g.__generator)(this,function(r){switch(r.label){case 0:eK.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),eK.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){eK.debug("failed to get or parse item aws-amplify-federatedInfo",e)}if(t)return[2,this.Credentials.refreshFederatedToken(t)];return[2,this.currentSession().then(function(e){return eK.debug("getting session success",e),n.Credentials.set(e,"session")}).catch(function(){return eK.debug("getting guest credentials"),n.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return eK.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise(function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)})},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise(function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})}):this.rejectAuthError(u.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(n){return t.verifyUserAttribute(n,e)})},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then(function(r){return n.verifyUserAttributeSubmit(r,e,t)})},e.prototype.cognitoIdentitySignOut=function(e,t){return(0,g.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,g.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),eK.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(n,o){if(e&&e.global){eK.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession(function(e,s){return(0,g.__awaiter)(i,void 0,void 0,function(){var i,s=this;return(0,g.__generator)(this,function(a){switch(a.label){case 0:if(!e)return[3,5];if(eK.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),o(Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(eK.debug("global sign out success"),!r)return n();s.oAuthSignOutRedirect(n,o)},onFailure:function(e){return eK.debug("global sign out failed",e),o(e)}}),[2]}})})},{clientMetadata:s})}else eK.debug("user sign out",t),t.signOut(function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)})})]}})})},e.prototype.oAuthSignOutRedirect=function(e,t){(0,P.lC)().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e(Error("Signout timeout fail"))},3e3)},e.prototype.signOut=function(e){return void 0===e&&(e={}),(0,g.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,g.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return r.sent(),[3,3];case 2:return r.sent(),eK.debug("failed to clear cached items"),[3,3];case 3:if(!this.userPool)return[3,11];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,this._storageSync];case 5:return r.sent(),[3,7];case 6:throw t=r.sent(),eK.debug("Failed to sync cache info into memory",t),t;case 7:if(!(n=this.userPool.getCurrentUser()))return[3,9];return[4,this.cognitoIdentitySignOut(e,n)];case 8:return r.sent(),[3,10];case 9:eK.debug("no current Cognito user"),r.label=10;case 10:return[3,12];case 11:eK.debug("no Cognito User pool"),r.label=12;case 12:return eG("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){return(0,g.__generator)(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise(function(o,s){i.userSession(e).then(function(i){e.changePassword(t,n,function(e,t){return e?(eK.debug("change password failure",e),s(e)):o(t)},r)})})},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(u.EmptyUsername);var n=this.createCognitoUser(e);return new Promise(function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){eK.debug("forgot password failure",t),eG("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){eG("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)})},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(u.EmptyUsername);if(!t)return this.rejectAuthError(u.EmptyCode);if(!n)return this.rejectAuthError(u.EmptyPassword);var i=this.createCognitoUser(e);return new Promise(function(o,s){i.confirmPassword(t,n,{onSuccess:function(t){eG("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){eG("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},r)})},e.prototype.currentUserInfo=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i,o,s;return(0,g.__generator)(this,function(a){switch(a.label){case 0:if(!(!(e=this.Credentials.getCredSource())||"aws"===e||"userPool"===e))return[3,9];return[4,this.currentUserPoolUser().catch(function(e){return eK.error(e)})];case 1:if(!(t=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(t)];case 3:n=a.sent(),r=this.attributesToObject(n),i=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=a.sent(),[3,7];case 6:return o=a.sent(),eK.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:i?i.identityId:void 0,username:t.getUsername(),attributes:r}];case 8:return s=a.sent(),eK.error("currentUserInfo error",s),[2,{}];case 9:if("federated"===e)return[2,(t=this.user)||{}];return[2]}})})},e.prototype.federatedSignIn=function(e,t,n){return(0,g.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,u,c,l,f,h,d,p;return(0,g.__generator)(this,function(g){switch(g.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation with Identity Pools requires tokens passed as arguments");if(!(v(e)||e&&["customProvider"].find(function(t){return e.hasOwnProperty(t)})||e&&["customState"].find(function(t){return e.hasOwnProperty(t)})||void 0===e))return[3,1];return i=v(r=e||{provider:a.Cognito})?r.provider:r.customProvider,v(r),o=r.customState,this._config.userPoolId&&(s=y(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,u=y(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,u,s,i,o)),[3,4];case 1:i=e;try{(c=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&eK.warn("There is already a signed in user: "+c+" in your app.\n																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return l=t.token,f=t.identity_id,h=t.expires_at,[4,this.Credentials.set({provider:i,token:l,identity_id:f,user:n,expires_at:h},"federation")];case 2:return d=g.sent(),[4,this.currentAuthenticatedUser()];case 3:return eG("signIn",p=g.sent(),"A user "+p.username+" has been signed in"),eK.debug("federated sign in credentials",d),[2,d];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,h,d;return(0,g.__generator)(this,function(p){switch(p.label){case 0:if(this.oAuthFlowInProgress)return eK.debug("Skipping URL "+e+" current flow in progress"),[2];p.label=1;case 1:if(p.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw Error("OAuth responses require a User Pool defined in config");if(eG("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||((0,P.lC)().isBrowser?window.location.href:""),n=!!((0,eA.parse)(t).query||"").split("&").map(function(e){return e.split("=")}).find(function(e){var t=(0,g.__read)(e,1)[0];return"code"===t||"error"===t}),r=!!((0,eA.parse)(t).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){var t=(0,g.__read)(e,1)[0];return"access_token"===t||"error"===t}),!(n||r))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),p.label=2;case 2:return p.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:if(o=(i=p.sent()).accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new et({IdToken:new $({IdToken:s}),RefreshToken:new X({RefreshToken:a}),AccessToken:new Y({AccessToken:o})}),l=void 0,!this._config.identityPoolId)return[3,5];return[4,this.Credentials.set(c,"session")];case 4:l=p.sent(),eK.debug("AWS credentials",l),p.label=5;case 5:return f=/-/.test(u),(h=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),eG("signIn",h,"A user "+h.getUsername()+" has been signed in"),eG("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),f&&eG("customOAuthState",u.split("-").splice(1).join("-").match(/.{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""),"State for user "+h.getUsername()),[2,l];case 6:return d=p.sent(),eK.debug("Error in cognito hosted auth response",d),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),eG("signIn_failure",d,"The OAuth response flow failed"),eG("cognitoHostedUI_failure",d,"A failure occurred when returning to the Cognito Hosted UI"),eG("customState_failure",d,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map(function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value}),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new el(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?u.NoConfig:u.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new eL(e))},e.prototype.rejectNoUserPool=function(){return Promise.reject(new eB(this.noUserPoolErrorHandler(this._config)))},e.prototype.rememberDevice=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,g.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),eK.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new eL(u.DeviceConfig)):"NetworkError"===e.code?n(new eL(u.NetworkError)):n(e)}})})]}})})},e.prototype.forgetDevice=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,g.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),eK.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new eL(u.DeviceConfig)):"NetworkError"===e.code?n(new eL(u.NetworkError)):n(e)}})})]}})})},e.prototype.fetchDevices=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,g.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),eK.debug("The user is not authenticated by the error",t),Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.listDevices(60,null,{onSuccess:function(e){t(e.Devices.map(function(e){var t=e.DeviceAttributes.find(function(e){return"device_name"===e.Name})||{};return{id:e.DeviceKey,name:t.Value}}))},onFailure:function(e){"InvalidParameterException"===e.code?n(new eL(u.DeviceConfig)):"NetworkError"===e.code?n(new eL(u.NetworkError)):n(e)}})})]}})})},e}())(null);k.d.register(eQ)},25387:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(93769),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=new r.k("Amplify"),s=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=r.k,this.ServiceWorker=null}return e.prototype.register=function(e){o.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):o.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e&&(this._config=Object.assign(this._config,e),o.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(e){var n=i(e,2),r=(n[0],n[1]);Object.keys(r).forEach(function(e){t._modules[e]&&(r[e]=t._modules[e])})}),this._components.map(function(e){e.configure(t._config)})),this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},e}())},43880:function(e,t,n){"use strict";n.d(t,{c:function(){return eh}});var r=n(93769),i=n(6648),o=n(59222),s=n(7262),a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},u=new r.k("CognitoCredentials"),c=new Promise(function(e,t){return(0,o.lC)().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(u.debug("google api already loaded"),e()):void setTimeout(function(){return e()},2e3):(u.debug("not in the browser, directly resolved"),e())}),l=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){var e,t,n,r;return e=this,t=void 0,n=void 0,r=function(){return a(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return u.debug("need to wait for the Google SDK loaded"),[4,c];case 1:e.sent(),this.initialized=!0,u.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})},new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return((0,o.lC)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e)?new Promise(function(t,n){e.getAuthInstance().then(function(e){e||(u.debug("google Auth undefined"),n(new s.V2("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(u.debug("refreshing the google access token"),r.reloadAuthResponse().then(function(e){t({token:e.id_token,expires_at:e.expires_at})}).catch(function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new s.V2("Failed to reload google auth response"))})):n(new s.V2("User is not signed in with Google"))}).catch(function(e){u.debug("Failed to refresh google token",e),n(new s.V2("Failed to refresh google token"))})}):(u.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},h=new r.k("CognitoCredentials"),d=new Promise(function(e,t){return(0,o.lC)().isBrowser?window.FB?(h.debug("FB SDK already loaded"),e()):void setTimeout(function(){return e()},2e3):(h.debug("not in the browser, directly resolved"),e())}),p=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){var e,t,n,r;return e=this,t=void 0,n=void 0,r=function(){return f(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return h.debug("need to wait for the Facebook SDK loaded"),[4,d];case 1:e.sent(),this.initialized=!0,h.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})},new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if((0,o.lC)().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return h.debug(t),Promise.reject(new s.V2(t))}return new Promise(function(t,n){e.getLoginStatus(function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+new Date().getTime();if(!i){var a="the jwtToken is undefined";h.debug(a),n(new s.V2(a))}t({token:i,expires_at:o})}else{var a="no response from facebook when refreshing the jwt token";h.debug(a),n(new s.V2(a))}},{scope:"public_profile,email"})})},e}(),g=new l,v=new p,y=n(25387),m={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},b=[m,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}],w=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(e){var t,n;try{for(var r=w(b),i=r.next();!i.done;i=r.next()){var o=i.value,s=o.regions,a=o.outputs,u=o.regionRegex,c=new RegExp(u);if(s.includes(e)||c.test(e))return a.dnsSuffix}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return m.outputs.dnsSuffix},_=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},C=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},I=function(e,t){if(null==t?void 0:t.aborted)return Promise.resolve();var n,r,i=new Promise(function(t){r=t,n=setTimeout(t,e)});return null==t||t.addEventListener("abort",function e(i){clearTimeout(n),null==t||t.removeEventListener("abort",e),r()}),i},A=function(e,t){var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata=_(_({},null!==(n=e.$metadata)&&void 0!==n?n:{}),{attempts:t}))},E=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},P=function(e,t){return function(n,r){for(var i={},o=function(t){return e(t,r)},s=t.length-1;s>=0;s--)o=(0,t[s])(r)(o,i);return o(n)}};n(63144);var T=function(e){var t;return function(){return t||(t=e()),t}},U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},x=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},O=P(function(e,t){var n,r,i,o,s=e.url,a=e.method,u=e.headers,c=e.body,l=t.abortSignal;return n=void 0,r=void 0,i=void 0,o=function(){var e,t,n,r,i,o,f;return x(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,fetch(s,{method:a,headers:u,body:["HEAD","GET","DELETE"].includes(a.toUpperCase())?void 0:c,signal:l})];case 1:return e=h.sent(),[3,3];case 2:if((t=h.sent())instanceof TypeError)throw Error("Network error");throw t;case 3:return n={},null===(o=e.headers)||void 0===o||o.forEach(function(e,t){n[t.toLowerCase()]=e}),r={statusCode:e.status,headers:n,body:null},i=Object.assign(null!==(f=e.body)&&void 0!==f?f:{},{text:T(function(){return e.text()}),blob:T(function(){return e.blob()}),json:T(function(){return e.json()})}),[2,U(U({},r),{body:i})]}})},new(i||(i=Promise))(function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(s,a)}u((o=o.apply(n,r||[])).next())})},[function(e){var t=e.userAgentHeader,n=void 0===t?"x-amz-user-agent":t,r=e.userAgentValue,i=void 0===r?"":r;return function(e){return function(t){var r,o,s,a;return r=this,o=void 0,s=void 0,a=function(){var r;return E(this,function(o){switch(o.label){case 0:if(0!==i.trim().length)return[3,2];return[4,e(t)];case 1:case 3:return[2,o.sent()];case 2:return r=n.toLowerCase(),t.headers[r]=t.headers[r]?"".concat(t.headers[r]," ").concat(i):i,[4,e(t)]}})},new(s||(s=Promise))(function(e,t){function n(e){try{u(a.next(e))}catch(e){t(e)}}function i(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof s?r:new s(function(e){e(r)})).then(n,i)}u((a=a.apply(r,o||[])).next())})}}},function(e){var t=e.maxAttempts,n=void 0===t?3:t,r=e.retryDecider,i=e.computeDelay,o=e.abortSignal;if(n<1)throw Error("maxAttempts must be greater than 0");return function(e,t){return function(s){var a,u,c,l,f;return u=this,c=void 0,l=void 0,f=function(){var u,c,l,f;return C(this,function(h){switch(h.label){case 0:c=null!==(a=t.attemptsCount)&&void 0!==a?a:0,f=function(){if(l)return A(l,c),l;throw A(u,c),u},h.label=1;case 1:if(!(!(null==o?void 0:o.aborted)&&c<n))return[3,11];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,e(s)];case 3:return l=h.sent(),u=void 0,[3,5];case 4:return u=h.sent(),l=void 0,[3,5];case 5:return c=t.attemptsCount>c?t.attemptsCount:c+1,t.attemptsCount=c,[4,r(l,u)];case 6:if(!h.sent())return[3,9];if(!(!(null==o?void 0:o.aborted)&&c<n))return[3,8];return[4,I(i(c),o)];case 7:h.sent(),h.label=8;case 8:case 10:return[3,1];case 9:return[2,f()];case 11:if(null==o||!o.aborted)return[2,f()];throw Error("Request aborted.")}})},new(l||(l=Promise))(function(e,t){function n(e){try{i(f.next(e))}catch(e){t(e)}}function r(e){try{i(f.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(n,r)}i((f=f.apply(u,c||[])).next())})}}}]),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},R=function(e){var t,n,r=e.headers,i=e.statusCode;return k(k({},D(e)?e.$metadata:{}),{httpStatusCode:i,requestId:null!==(n=null!==(t=r["x-amzn-requestid"])&&void 0!==t?t:r["x-amzn-request-id"])&&void 0!==n?n:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]})},D=function(e){return"object"==typeof(null==e?void 0:e.$metadata)},F=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},N=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},M=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},j=function(e){return F(void 0,void 0,void 0,function(){var t,n,r,i,o,s,a;return N(this,function(u){switch(u.label){case 0:if(!e||e.statusCode<300)return[2];return[4,L(e)];case 1:var c;return t=u.sent(),n=(c=M((null!==(o=null!==(i=null!==(r=e.headers["x-amzn-errortype"])&&void 0!==r?r:t.code)&&void 0!==i?i:t.__type)&&void 0!==o?o:"UnknownError").toString().split(/[\,\:]+/),1)[0]).includes("#")?c.split("#")[1]:c,[2,Object.assign(Error(null!==(a=null!==(s=t.message)&&void 0!==s?s:t.Message)&&void 0!==a?a:"Unknown error"),{name:n,$metadata:R(e)})]}})})},L=function(e){return F(void 0,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:if(!e.body)throw Error("Missing response payload");return[4,e.body.json()];case 1:return[2,Object.assign(t.sent(),{$metadata:R(e)})]}})})},B=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],q=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},K=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],V=["TimeoutError","RequestTimeout","RequestTimeoutException"],H=n(92752),G=n(42347),Q=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},W=P(O,[function(){return function(e,t){return function(t){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function(){return Q(this,function(n){return t.headers["cache-control"]="no-store",[2,e(t)]})},new(i||(i=Promise))(function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(s,a)}u((o=o.apply(n,r||[])).next())})}}}]),z={service:"cognito-identity",endpointResolver:function(e){var t=e.region;return{url:new URL("https://cognito-identity.".concat(t,".").concat(S(t)))}},retryDecider:function(e,t){var n,r,i,o;return n=void 0,r=void 0,i=void 0,o=function(){var n,r,i,o;return q(this,function(s){switch(s.label){case 0:if(!(null!=t))return[3,1];return r=t,[3,3];case 1:return[4,j(e)];case 2:r=s.sent(),s.label=3;case 3:return n=(null!==(o=r)&&void 0!==o?o:{}).name,i=null==e?void 0:e.statusCode,[2,(null==t?void 0:t.name)==="Network error"||429===i||K.includes(n)||B.includes(n)||[500,502,503,504].includes(i)||V.includes(n)]}})},new(i||(i=Promise))(function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(s,a)}u((o=o.apply(n,r||[])).next())})},computeDelay:function(e){var t=(0,s.kD)(3e5)(e);return!1===t?3e5:t},userAgentValue:(0,H.Zm)()};(0,G.QW)(function(){z.userAgentValue=(0,H.Zm)()});var Z=function(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}},Y=function(e,t,n){return{headers:t,url:e.url,body:n,method:"POST"}},J=function(){return(J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},X=function(e,t,n,r){return function(i,o){var s,a,u,c;return s=void 0,a=void 0,u=void 0,c=function(){var s;return $(this,function(a){switch(a.label){case 0:return[4,(s=J(J({},r),i)).endpointResolver(s,o)];case 1:return[4,t(o,a.sent())];case 2:return[4,e(a.sent(),J({},s))];case 3:return[4,n(a.sent())];case 4:return[2,a.sent()]}})},new(u||(u=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof u?i:new u(function(e){e(i)})).then(n,r)}i((c=c.apply(s,a||[])).next())})}},ee=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},et=X(W,function(e,t){return Y(t,Z("GetId"),JSON.stringify(e))},function(e){var t,n,r,i;return t=void 0,n=void 0,r=void 0,i=function(){return ee(this,function(t){switch(t.label){case 0:if(!(e.statusCode>=300))return[3,2];return[4,j(e)];case 1:throw t.sent();case 2:return[4,L(e)];case 3:return[2,{IdentityId:t.sent().IdentityId,$metadata:R(e)}]}})},new(r||(r=Promise))(function(e,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(s,a)}u((i=i.apply(t,n||[])).next())})},z),en=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},er=X(W,function(e,t){return Y(t,Z("GetCredentialsForIdentity"),JSON.stringify(e))},function(e){var t,n,r,i;return t=void 0,n=void 0,r=void 0,i=function(){var t;return en(this,function(n){switch(n.label){case 0:if(!(e.statusCode>=300))return[3,2];return[4,j(e)];case 1:throw n.sent();case 2:return[4,L(e)];case 3:var r;return[2,{IdentityId:(t=n.sent()).IdentityId,Credentials:(void 0===(r=t.Credentials)&&(r={}),{AccessKeyId:r.AccessKeyId,SecretKey:r.SecretKey,SessionToken:r.SessionToken,Expiration:new Date(1e3*r.Expiration)}),$metadata:R(e)}]}})},new(r||(r=Promise))(function(e,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(s,a)}u((i=i.apply(t,n||[])).next())})},z),ei=n(99820),eo=n(20490),es=function(){return(es=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ea=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},eu=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},ec=new r.k("Credentials"),el="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ef=function(e,t,n){eo.X.dispatch("core",{event:e,data:t,message:n},"Credentials",el)},eh=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=g.refreshGoogleToken,this._refreshHandlers.facebook=v.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=es(es({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=new i.c().getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),ef("credentials_configured",null,"Credentials has been configured successfully"),this._config},e.prototype.get=function(){return ec.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"".concat("CognitoIdentityId-").concat(e)},e.prototype._pickupCredentials=function(){return ec.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?ec.debug("getting old cred promise"):(ec.debug("getting new cred promise"),this._gettingCredPromise=(0,o.ML)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return ea(this,void 0,void 0,function(){var e,t,n,r,i,o;return eu(this,function(s){switch(s.label){case 0:if(ec.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return ec.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(ec.debug("need to get a new credential or refresh the existing one"),!(n=void 0===(t=this.Auth)?y.d.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(!(!this._isExpired(e)&&this._isPastTTL()))return[3,6];ec.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return i=s.sent().refreshToken,[4,new Promise(function(e,t){r.refreshSession(i,function(n,r){return n?t(n):e(r)})})];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),ec.debug("Error attempting to refreshing the session",o),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(e){ec.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;return(o=1970===new Date(o).getFullYear()?1e3*o:o,ec.debug("checking if federated jwt token expired"),o>new Date().getTime())?(ec.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):this._refreshHandlers[t]&&"function"==typeof this._refreshHandlers[t]?(ec.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:n})):(ec.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return(0,s.Xm)(n,[],1e4).then(function(e){return ec.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})}).catch(function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),ec.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)})},e.prototype._isExpired=function(e){if(!e)return ec.debug("no credentials for expiration check"),!0;ec.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return ea(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l=this;return eu(this,function(f){switch(f.label){case 0:if(ec.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,(0,ei.h)(this._config||{}).Auth)),n=(t=this._config).identityPoolId,r=t.region,i=t.mandatorySignIn,o=t.identityPoolRegion,i)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!n)return ec.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!o&&!r)return ec.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];return a=this,[4,this._getGuestIdentityId()];case 1:return s=a._identityId=f.sent(),u={region:null!=o?o:r},c=ea(l,void 0,void 0,function(){var e,t;return eu(this,function(r){switch(r.label){case 0:if(s)return[3,2];return[4,et(u,{IdentityPoolId:n})];case 1:e=r.sent().IdentityId,this._identityId=e,r.label=2;case 2:return[4,er(u,{IdentityId:this._identityId})];case 3:return t=r.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}})}).catch(function(e){return ea(l,void 0,void 0,function(){return eu(this,function(t){throw e})})}),[2,this._loadCredentials(c,"guest",!1,null).then(function(e){return e}).catch(function(e){return ea(l,void 0,void 0,function(){var t=this;return eu(this,function(r){switch(r.label){case 0:if(!("ResourceNotFoundException"===e.name&&e.message==="Identity '".concat(s,"' not found.")))return[3,2];return ec.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()];case 1:return r.sent(),c=ea(t,void 0,void 0,function(){var e,t;return eu(this,function(r){switch(r.label){case 0:return[4,et(u,{IdentityPoolId:n})];case 1:return e=r.sent().IdentityId,this._identityId=e,[4,er(u,{IdentityId:e})];case 2:return t=r.sent().Credentials,[2,{identityId:e,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}})}).catch(function(e){return ea(t,void 0,void 0,function(){return eu(this,function(t){throw e})})}),[2,this._loadCredentials(c,"guest",!1,null)];case 2:return[2,e]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(e){var t=this,n=e.provider,r=e.token,i=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[n]||n;if(!o)return Promise.reject("You must specify a federated provider");var s={};s[o]=r;var a=this._config,u=a.identityPoolId,c=a.region,l=a.identityPoolRegion;if(!u)return ec.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!l&&!c)return ec.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var f={region:null!=l?l:c},h=ea(t,void 0,void 0,function(){var e;return eu(this,function(t){switch(t.label){case 0:if(i)return[3,2];return[4,et(f,{IdentityPoolId:u,Logins:s})];case 1:i=t.sent().IdentityId,t.label=2;case 2:return[4,er(f,{IdentityId:i,Logins:s})];case 3:return e=t.sent().Credentials,[2,{identityId:i,accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretKey,sessionToken:e.SessionToken,expiration:e.Expiration}]}})}).catch(function(e){return ea(t,void 0,void 0,function(){return eu(this,function(t){throw e})})});return this._loadCredentials(h,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;ec.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId,a=r.identityPoolRegion;if(!s)return ec.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!a&&!i)return ec.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var u={};u["cognito-idp."+i+".amazonaws.com/"+o]=n;var c={region:null!=a?a:i},l=ea(t,void 0,void 0,function(){var e,t,n,r,i,o,a,l,f;return eu(this,function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:if(e=h.sent())return[3,3];return[4,et(c,{IdentityPoolId:s,Logins:u})];case 2:t=h.sent().IdentityId,h.label=3;case 3:return[4,er(c,{IdentityId:e||t,Logins:u})];case 4:if(i=(r=(n=h.sent()).Credentials).AccessKeyId,o=r.Expiration,a=r.SecretKey,l=r.SessionToken,f=n.IdentityId,this._identityId=f,!e)return[3,6];return ec.debug("The guest identity ".concat(e," has been successfully linked to the logins")),e===f&&ec.debug("The guest identity ".concat(e," has become the primary identity")),[4,this._removeGuestIdentityId()];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:i,secretAccessKey:a,sessionToken:l,expiration:o,identityId:f}]}})}).catch(function(e){return ea(t,void 0,void 0,function(){return eu(this,function(t){throw e})})});return this._loadCredentials(l,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise(function(s,a){e.then(function(e){return ea(i,void 0,void 0,function(){var i,a,u,c,l;return eu(this,function(f){switch(f.label){case 0:if(ec.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=new Date().getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:l}))}catch(e){ec.debug("Failed to put federated info into auth storage",e)}}if("guest"!==t)return[3,2];return[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return s(o._credentials),[2]}})})}).catch(function(t){if(t){ec.debug("Failed to load credentials",e),ec.debug("Error loading credentials",t),a(t);return}})})},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(ec.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return ea(this,void 0,void 0,function(){return eu(this,function(e){return this._credentials=null,this._credentials_source=null,ec.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return ea(this,void 0,void 0,function(){var e,t;return eu(this,function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),ec.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(e){return ea(this,void 0,void 0,function(){var t,n;return eu(this,function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),ec.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return ea(this,void 0,void 0,function(){var e;return eu(this,function(t){return e=this._config.identityPoolId,ec.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(e)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]})})},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);y.d.register(eh)},20490:function(e,t,n){"use strict";n.d(t,{X:function(){return c}});var r=n(93769),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},s=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},a=new r.k("Hub"),u="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",c=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find(function(t){return t.pattern.source===e.source});if(!n){a.warn("No listeners for ".concat(e));return}this.patterns=s([],o(this.patterns.filter(function(e){return e!==n})),!1)}else{var r=this.listeners[e];if(!r){a.warn("No listeners for ".concat(e));return}this.listeners[e]=s([],o(r.filter(function(e){return e.callback!==t})),!1)}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,r){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&r!==u&&a.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:i({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){a.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),void 0!==t.onHubCapsule)a.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else if("function"!=typeof t)throw Error("No callback supplied to Hub");else r=t;if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach(function(r){a.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(e){a.error(e)}}),this.patterns.length>0){if(!n.message){a.warn("Cannot perform pattern matching without a message key");return}var s=n.message;this.patterns.forEach(function(t){var n=s.match(t.pattern);if(n){var r=o(n).slice(1),u=i(i({},e),{patternInfo:r});try{t.callback(u)}catch(e){a.error(e)}}})}},e}())("__default__")},59222:function(e,t,n){"use strict";n.d(t,{ML:function(){return i},lC:function(){return s},n2:function(){return o}});var r=n(83454),i=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then(function(e){return r=!0,t=!1,e},function(e){throw n=!0,t=!1,e});return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},o=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},s=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==r&&null!=r.versions&&null!=r.versions.node}}},93769:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var r,i,o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},u={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(i=r||(r={})).DEBUG="DEBUG",i.ERROR="ERROR",i.INFO="INFO",i.WARN="WARN",i.VERBOSE="VERBOSE";var c=function(){function e(e,t){void 0===t&&(t=r.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e&&(this._config=e),this._config},e.prototype._log=function(t){for(var n,i,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var c=this.level;e.LOG_LEVEL&&(c=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(c=window.LOG_LEVEL);var l=u[c];if(u[t]>=l){var f=console.log.bind(console);t===r.ERROR&&console.error&&(f=console.error.bind(console)),t===r.WARN&&console.warn&&(f=console.warn.bind(console));var h="[".concat(t,"] ").concat(this._ts()," ").concat(this.name),d="";if(1===s.length&&"string"==typeof s[0])f(d="".concat(h," - ").concat(s[0]));else if(1===s.length)d="".concat(h," ").concat(s[0]),f(h,s[0]);else if("string"==typeof s[0]){var p=s.slice(1);1===p.length&&(p=p[0]),d="".concat(h," - ").concat(s[0]," ").concat(p),f("".concat(h," - ").concat(s[0]),p)}else d="".concat(h," ").concat(s),f(h,s);try{for(var g=o(this._pluggables),v=g.next();!v.done;v=g.next()){var y=v.value,m={message:d,timestamp:Date.now()};y.pushLogs([m])}}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.INFO],s(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.INFO],s(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.WARN],s(e),!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.ERROR],s(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.DEBUG],s(e),!1))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,a([r.VERBOSE],s(e),!1))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}()},42347:function(e,t,n){"use strict";n.d(t,{Cj:function(){return y},QW:function(){return m}});var r,i=n(89841),o=n(83454),s=function(){return void 0!==n.g},a=function(){return"undefined"!=typeof window},u=function(){return"undefined"!=typeof document},c=function(){return void 0!==o},l=function(e,t){return!!Object.keys(e).find(function(e){return e.startsWith(t)})},f=n(83454),h=n(83454),d=n(83454),p=[{platform:i.gQ.Expo,detectionMethod:function(){return s()&&void 0!==n.g.expo}},{platform:i.gQ.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:i.gQ.NextJs,detectionMethod:function(){return a()&&window.next&&"object"==typeof window.next}},{platform:i.gQ.Nuxt,detectionMethod:function(){return a()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:i.gQ.Angular,detectionMethod:function(){var e=!!(u()&&document.querySelector("[ng-version]")),t=!!(a()&&void 0!==window.ng);return e||t}},{platform:i.gQ.React,detectionMethod:function(){var e=function(e){return e.startsWith("_react")||e.startsWith("__react")};return u()&&Array.from(document.querySelectorAll("[id]")).some(function(t){return Object.keys(t).find(e)})}},{platform:i.gQ.VueJs,detectionMethod:function(){return a()&&l(window,"__VUE")}},{platform:i.gQ.Svelte,detectionMethod:function(){return a()&&l(window,"__SVELTE")}},{platform:i.gQ.WebUnknown,detectionMethod:function(){return a()}},{platform:i.gQ.NextJsSSR,detectionMethod:function(){return s()&&(l(n.g,"__next")||l(n.g,"__NEXT"))}},{platform:i.gQ.NuxtSSR,detectionMethod:function(){return s()&&void 0!==n.g.__NUXT_PATHS__}},{platform:i.gQ.ReactSSR,detectionMethod:function(){return c()&&void 0!==f.env&&!!Object.keys(f.env).find(function(e){return e.includes("react")})}},{platform:i.gQ.VueJsSSR,detectionMethod:function(){return s()&&l(n.g,"__VUE")}},{platform:i.gQ.AngularSSR,detectionMethod:function(){var e;return c()&&"object"==typeof d.env&&(null===(e=d.env.npm_lifecycle_script)||void 0===e?void 0:e.startsWith("ng "))||!1}},{platform:i.gQ.SvelteSSR,detectionMethod:function(){return c()&&void 0!==h.env&&!!Object.keys(h.env).find(function(e){return e.includes("svelte")})}}],g=[],v=!1,y=function(){if(!r){var e;if(r=(null===(e=p.find(function(e){return e.detectionMethod()}))||void 0===e?void 0:e.platform)||i.gQ.ServerSideUnknown,v)for(;g.length;)g.pop()();else g.forEach(function(e){return e()});b(i.gQ.ServerSideUnknown,10),b(i.gQ.WebUnknown,10)}return r},m=function(e){v||g.push(e)};function b(e,t){r!==e||v||setTimeout(function(){r=void 0,v=!0,setTimeout(y,1e3)},t)}},92752:function(e,t,n){"use strict";n.d(t,{t4:function(){return u},Zm:function(){return l}});var r=n(89841),i="5.3.18",o=n(42347),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a="aws-amplify",u=new(function(){function e(){this.userAgent="".concat(a,"/").concat(i)}return Object.defineProperty(e.prototype,"framework",{get:function(){return(0,o.Cj)()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReactNative",{get:function(){return this.framework===r.gQ.ReactNative||this.framework===r.gQ.Expo},enumerable:!1,configurable:!0}),e.prototype.observeFrameworkChanges=function(e){(0,o.QW)(e)},e}()),c=function(e){var t=void 0===e?{}:e,n=t.category,r=t.action;t.framework;var s=[[a,i]];return n&&s.push([n,r]),s.push(["framework",(0,o.Cj)()]),s},l=function(e){return c(e).map(function(e){var t=s(e,2),n=t[0],r=t[1];return"".concat(n,"/").concat(r)}).join(" ")}},89841:function(e,t,n){"use strict";var r,i,o,s,a,u,c,l,f,h,d,p,g,v,y,m,b,w,S,_;n.d(t,{WD:function(){return i},bB:function(){return d},g4:function(){return a},gQ:function(){return r},gq:function(){return s}}),(v=r||(r={})).WebUnknown="0",v.React="1",v.NextJs="2",v.Angular="3",v.VueJs="4",v.Nuxt="5",v.Svelte="6",v.ServerSideUnknown="100",v.ReactSSR="101",v.NextJsSSR="102",v.AngularSSR="103",v.VueJsSSR="104",v.NuxtSSR="105",v.SvelteSSR="106",v.ReactNative="201",v.Expo="202",(y=i||(i={})).API="api",y.Auth="auth",y.Analytics="analytics",y.DataStore="datastore",y.Geo="geo",y.InAppMessaging="inappmessaging",y.Interactions="interactions",y.Predictions="predictions",y.PubSub="pubsub",y.PushNotification="pushnotification",y.Storage="storage",(m=o||(o={})).Record="1",m.UpdateEndpoint="2",(b=s||(s={})).GraphQl="1",b.Get="2",b.Post="3",b.Put="4",b.Patch="5",b.Del="6",b.Head="7",(a||(a={})).FederatedSignIn="30",(w=u||(u={})).Subscribe="1",w.GraphQl="2",(c||(c={})).None="0",(l||(l={})).None="0",(f||(f={})).None="0",(S=h||(h={})).Convert="1",S.Identify="2",S.Interpret="3",(d||(d={})).Subscribe="1",(p||(p={})).None="0",(_=g||(g={})).Put="1",_.Get="2",_.List="3",_.Copy="4",_.Remove="5",_.GetProperties="6"},6648:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r={},i=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={}},e}(),o=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=i}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},7262:function(e,t,n){"use strict";n.d(t,{V2:function(){return f},Xm:function(){return p},kD:function(){return d},m0:function(){return h}});var r,i=n(93769),o=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=new i.k("Util"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return o(t,e),t}(Error),h=function(e){return e&&e.nonRetryable};function d(e){return void 0===e&&(e=3e5),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var p=function(e,t,n,r){return void 0===n&&(n=3e5),function(e,t,n,r){return s(this,void 0,void 0,function(){var i=this;return a(this,function(o){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise(function(o,f){return s(i,void 0,void 0,function(){var i,s,d,p,g,v,y;return a(this,function(m){switch(m.label){case 0:i=0,s=!1,p=function(){},r&&r.then(function(){s=!0,clearTimeout(d),p()}),v=function(){var r,v,y,m;return a(this,function(a){switch(a.label){case 0:i++,l.debug("".concat(e.name," attempt #").concat(i," with this vars: ").concat(JSON.stringify(t))),a.label=1;case 1:return a.trys.push([1,3,,7]),r={},v=o,[4,e.apply(void 0,c([],u(t),!1))];case 2:return[2,(r.value=v.apply(void 0,[a.sent()]),r)];case 3:if(g=y=a.sent(),l.debug("error on ".concat(e.name),y),h(y))return l.debug("".concat(e.name," non retryable error"),y),[2,{value:f(y)}];if(m=n(i,t,y),l.debug("".concat(e.name," retrying in ").concat(m," ms")),!(!1===m||s))return[3,4];return[2,{value:f(y)}];case 4:return[4,new Promise(function(e){d=setTimeout(p=e,m)})];case 5:a.sent(),a.label=6;case 6:return[3,7];case 7:return[2]}})},m.label=1;case 1:if(s)return[3,3];return[5,v()];case 2:if("object"==typeof(y=m.sent()))return[2,y.value];return[3,1];case 3:return f(g),[2]}})})})]})})}(e,t,d(n),r)}},88229:function(e,t,n){"use strict";n.d(t,{M:function(){return i},o:function(){return r}});var r="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",i="x-amz-user-agent"},99820:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(93769),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=new r.k("Parser"),s=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=i(i({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),o.debug("parse config",e,"to amplifyconfig",n),n}},10914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(89945),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(r.DIGEST_LENGTH),i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var h=this.temp[f-2],d=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[f-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(d+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+v|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},89945:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=9007199254740991},41938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(70655).__exportStar)(n(65430),t)},65430:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(70655),i=n(89945),o=n(10914),s=n(17658),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(var r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return[2,this.digestSync()]})})},e}();t.Sha256=a},51106:function(e,t,n){"use strict";var r=n(48764).lW;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var i=n(98143),o=void 0!==r&&r.from?function(e){return r.from(e,"utf8")}:i.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},17658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(51106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(84304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(22174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(81558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},84304:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},22174:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},81558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},98143:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return o},toUtf8:function(){return s}});var r=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&(64512&i)==55296&&(64512&e.charCodeAt(n+1))==56320){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},i=function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];i<128?t+=String.fromCharCode(i):192<=i&&i<224?t+=String.fromCharCode((31&i)<<6|63&e[++n]):240<=i&&i<365?t+=decodeURIComponent("%"+[i,e[++n],e[++n],e[++n]].map(function(e){return e.toString(16)}).join("%")):t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t},o=function(e){return"function"==typeof TextEncoder?new TextEncoder().encode(e):r(e)},s=function(e){return"function"==typeof TextDecoder?new TextDecoder("utf-8").decode(e):i(e)}},79742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)o.push(n[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48764:function(e,t,n){"use strict";var r=n(79742),i=n(80645),o=n(5826);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!u.isEncoding(n))throw TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n,r=0|d(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return T(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return x(e).length;default:if(r)return T(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var i,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=t;s<n;++s)o+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return o}(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=t,o=n,0===i&&o===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),isNaN(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return(t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return -1}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function w(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function S(e,t,n,r,i,o){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function _(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}function C(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>(r?i:3-i)*8&255}function I(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function A(e,t,n,r,o){return o||I(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function E(e,t,n,r,o){return o||I(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return(l(e),e<=0)?a(null,e):void 0!==t?"string"==typeof n?a(null,e).fill(t,n):a(null,e).fill(t):a(null,e)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?b(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,l,f,h,d,p,g,v=this.length-t;if((void 0===n||n>v)&&(n=v),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var y=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))break;e[n+s]=a}return s}(this,e,t,n);case"utf8":case"utf-8":return u=t,c=n,O(T(e,this.length-u),this,u,c);case"ascii":return l=t,f=n,O(U(e),this,l,f);case"latin1":case"binary":return i=this,o=e,s=t,a=n,O(U(o),i,s,a);case"base64":return h=t,d=n,O(x(e),this,h,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=t,g=n,O(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-p),this,p,g);default:if(y)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),y=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||w(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||w(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||w(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return(t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){t||w(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||w(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||w(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||w(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||w(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||w(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;S(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;S(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);S(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);S(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return A(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return A(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return E(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return E(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("sourceStart out of bounds");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=u.isBuffer(e)?e:T(new u(e,r).toString()),a=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function T(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function U(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function x(e){return r.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function O(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}},76489:function(e,t){"use strict";t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},i=e.split(";"),o=(t||{}).decode||n,s=0;s<i.length;s++){var a=i[s],u=a.indexOf("=");if(!(u<0)){var c=a.substring(0,u).trim();if(void 0==r[c]){var l=a.substring(u+1,a.length).trim();'"'===l[0]&&(l=l.slice(1,-1)),r[c]=function(e,t){try{return t(e)}catch(t){return e}}(l,o)}}}return r},t.q=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw TypeError("argument val is invalid");var u=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},80645:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?5960464477539062e-23:0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=h/u:t+=h*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},5826:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},36808:function(e,t,n){var r,i,o;void 0!==(i="function"==typeof(r=o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})?r.call(t,n,t,e):r)&&(e.exports=i),e.exports=o()},63144:function(e){"use strict";let t=self.fetch.bind(self);e.exports=t,e.exports.default=e.exports},83454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(77663)},91118:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(52267)}])},92441:function(e,t,n){"use strict";n.d(t,{Ho:function(){return c},Jo:function(){return u}});var r=n(85893),i=n(27952),o=n(67294);let s=(0,o.createContext)(),{Provider:a}=s;function u(){return(0,o.useContext)(s)}function c(e){let{children:t}=e,[n,s]=(0,o.useState)(null);(0,o.useEffect)(()=>{i.g.currentAuthenticatedUser().then(e=>{console.log("user success ".concat(e)),console.log(e),s(e)}).catch(e=>{console.log({error:e}),s(null)})},[]);let u=async e=>{let{email:t,password:n}=e;try{let{user:e}=await i.g.signUp({username:t,password:n});return e}catch(e){return e}};async function c(e){let{email:t,password:n}=e;try{return await i.g.signIn(t,n)}catch(e){return e}}return(0,r.jsx)(a,{value:{user:n,setUser:s,signUp:u,signIn:c,logout:()=>{i.g.signOut().then(e=>{console.log("logout res: ".concat(e)),s(null)})}},children:t})}},38199:function(e,t){"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_FAST_REFRESH:function(){return f},ACTION_NAVIGATE:function(){return a},ACTION_PREFETCH:function(){return l},ACTION_REFRESH:function(){return s},ACTION_RESTORE:function(){return u},ACTION_SERVER_ACTION:function(){return h},ACTION_SERVER_PATCH:function(){return c},PrefetchCacheEntryStatus:function(){return r},PrefetchKind:function(){return n},isThenable:function(){return d}});let s="refresh",a="navigate",u="restore",c="server-patch",l="prefetch",f="fast-refresh",h="server-action";function d(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(i=n||(n={})).AUTO="auto",i.FULL="full",i.TEMPORARY="temporary",(o=r||(r={})).fresh="fresh",o.reusable="reusable",o.expired="expired",o.stale="stale",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87195:function(e,t,n){"use strict";function r(e,t,n,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),n(98337),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},98342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});let r=n(38754),i=n(85893),o=r._(n(67294)),s=n(36075),a=n(53955),u=n(48041),c=n(99903),l=n(65490),f=n(81928),h=n(60257),d=n(84229),p=n(87195),g=n(89470),v=n(38199),y=new Set;function m(e,t,n,r,i,o){if(o||(0,a.isLocalURL)(t)){if(!r.bypassPrefetchedCheck){let i=t+"%"+n+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(y.has(i))return;y.add(i)}(async()=>o?e.prefetch(t,i):e.prefetch(t,n,r))().catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}let w=o.default.forwardRef(function(e,t){let n,r;let{href:u,as:y,children:w,prefetch:S=null,passHref:_,replace:C,shallow:I,scroll:A,locale:E,onClick:P,onMouseEnter:T,onTouchStart:U,legacyBehavior:x=!1,...O}=e;n=w,x&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let k=o.default.useContext(f.RouterContext),R=o.default.useContext(h.AppRouterContext),D=null!=k?k:R,F=!k,N=!1!==S,M=null===S?v.PrefetchKind.AUTO:v.PrefetchKind.FULL,{href:j,as:L}=o.default.useMemo(()=>{if(!k){let e=b(u);return{href:e,as:y?b(y):e}}let[e,t]=(0,s.resolveHref)(k,u,!0);return{href:e,as:y?(0,s.resolveHref)(k,y):t||e}},[k,u,y]),B=o.default.useRef(j),q=o.default.useRef(L);x&&(r=o.default.Children.only(n));let K=x?r&&"object"==typeof r&&r.ref:t,[V,H,G]=(0,d.useIntersection)({rootMargin:"200px"}),Q=o.default.useCallback(e=>{(q.current!==L||B.current!==j)&&(G(),q.current=L,B.current=j),V(e),K&&("function"==typeof K?K(e):"object"==typeof K&&(K.current=e))},[L,K,j,G,V]);o.default.useEffect(()=>{D&&H&&N&&m(D,j,L,{locale:E},{kind:M},F)},[L,j,H,E,N,null==k?void 0:k.locale,D,F,M]);let W={ref:Q,onClick(e){x||"function"!=typeof P||P(e),x&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),D&&!e.defaultPrevented&&function(e,t,n,r,i,s,u,c,l){let{nodeName:f}=e.currentTarget;if("A"===f.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!l&&!(0,a.isLocalURL)(n)))return;e.preventDefault();let h=()=>{let e=null==u||u;"beforePopState"in t?t[i?"replace":"push"](n,r,{shallow:s,locale:c,scroll:e}):t[i?"replace":"push"](r||n,{scroll:e})};l?o.default.startTransition(h):h()}(e,D,j,L,C,I,A,E,F)},onMouseEnter(e){x||"function"!=typeof T||T(e),x&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),D&&(N||!F)&&m(D,j,L,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:M},F)},onTouchStart:function(e){x||"function"!=typeof U||U(e),x&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),D&&(N||!F)&&m(D,j,L,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:M},F)}};if((0,c.isAbsoluteUrl)(L))W.href=L;else if(!x||_||"a"===r.type&&!("href"in r.props)){let e=void 0!==E?E:null==k?void 0:k.locale,t=(null==k?void 0:k.isLocaleDomain)&&(0,p.getDomainLocale)(L,e,null==k?void 0:k.locales,null==k?void 0:k.domainLocales);W.href=t||(0,g.addBasePath)((0,l.addLocale)(L,e,null==k?void 0:k.defaultLocale))}return x?o.default.cloneElement(r,W):(0,i.jsx)("a",{...O,...W,children:n})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return u}});let r=n(67294),i=n(84474),o="function"==typeof IntersectionObserver,s=new Map,a=[];function u(e){let{rootRef:t,rootMargin:n,disabled:u}=e,c=u||!o,[l,f]=(0,r.useState)(!1),h=(0,r.useRef)(null),d=(0,r.useCallback)(e=>{h.current=e},[]);return(0,r.useEffect)(()=>{if(o){if(c||l)return;let e=h.current;if(e&&e.tagName)return function(e,t,n){let{id:r,observer:i,elements:o}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=a.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=s.get(r)))return t;let i=new Map;return t={id:n,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:i},a.push(n),s.set(n,t),t}(n);return o.set(e,t),i.observe(e),function(){if(o.delete(e),i.unobserve(e),0===o.size){i.disconnect(),s.delete(r);let e=a.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&a.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:n})}else if(!l){let e=(0,i.requestIdleCallback)(()=>f(!0));return()=>(0,i.cancelIdleCallback)(e)}},[c,n,t,l,h.current]),[d,l,(0,r.useCallback)(()=>{f(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64749:function(e,t,n){"use strict";n.d(t,{Goc:function(){return o},OrA:function(){return i}});var r=n(56771);function i(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"}}]})(e)}function o(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}}]})(e)}},2914:function(e,t,n){"use strict";n.d(t,{Fm7:function(){return i},aHS:function(){return s},fCD:function(){return o},m3W:function(){return a}});var r=n(56771);function i(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function o(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function s(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function a(e){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}},56771:function(e,t,n){"use strict";n.d(t,{w_:function(){return u}});var r=n(67294),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(i),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function u(e){return function(t){return r.createElement(c,s({attr:s({},e.attr)},t),function e(t){return t&&t.map(function(t,n){return r.createElement(t.tag,s({key:n},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var n,i=e.attr,o=e.size,u=e.title,c=a(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),u&&r.createElement("title",null,u),e.children)};return void 0!==o?r.createElement(o.Consumer,null,function(e){return t(e)}):t(i)}},52267:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eS}});var r,i,o,s,a,u,c,l,f,h,d,p,g,v,y,m,b,w,S,_,C,I,A,E=n(85893),P=n(9008),T=n.n(P),U=n(88767),x=n(20938),O=n(92441),k=n(41664),R=n.n(k);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return N(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var j=n(67294);function L(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"==typeof n?n.apply(void 0,i):n}var s=Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map(function(e){return'"'+e+'"'}).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(s,L),s}function B(e){var t=e.props,n=e.slot,r=e.defaultTag,i=e.features,o=e.visible,s=e.name;if(void 0===o||o)return q(t,n,r,s);var a=null!=i?i:p.None;if(a&p.Static){var u=t.static,c=F(t,["static"]);if(void 0!==u&&u)return q(c,n,r,s)}if(a&p.RenderStrategy){var l,f=t.unmount,h=F(t,["unmount"]);return L(void 0===f||f?g.Unmount:g.Hidden,((l={})[g.Unmount]=function(){return null},l[g.Hidden]=function(){return q(D({},h,{hidden:!0,style:{display:"none"}}),n,r,s)},l))}return q(t,n,r,s)}function q(e,t,n,r){void 0===t&&(t={});var i,o=V(e,["unmount","static"]),s=o.as,a=void 0===s?n:s,u=o.children,c=o.refName,l=F(o,["as","children","refName"]),f=void 0!==e.ref?((i={})[void 0===c?"ref":c]=e.ref,i):{},h="function"==typeof u?u(t):u;if(l.className&&"function"==typeof l.className&&(l.className=l.className(t)),a===j.Fragment&&Object.keys(l).length>0){if(!(0,j.isValidElement)(h)||Array.isArray(h)&&h.length>1)throw Error(['Passing props on "Fragment"!',"","The current component <"+r+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(l).map(function(e){return"  - "+e}).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(function(e){return"  - "+e}).join("\n")].join("\n"));return(0,j.cloneElement)(h,Object.assign({},function(e,t,n){for(var r,i=Object.assign({},e),o=M(n);!(r=o()).done;)!function(){var n,o=r.value;void 0!==e[o]&&void 0!==t[o]&&Object.assign(i,((n={})[o]=function(n){n.defaultPrevented||e[o](n),n.defaultPrevented||t[o](n)},n))}();return i}(function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}(V(l,["ref"])),h.props,["onClick"]),f))}return(0,j.createElement)(a,Object.assign({},V(l,["ref"]),a!==j.Fragment&&f),h)}function K(e){var t;return Object.assign((0,j.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function V(e,t){void 0===t&&(t=[]);for(var n,r=Object.assign({},e),i=M(t);!(n=i()).done;){var o=n.value;o in r&&delete r[o]}return r}function H(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,j.useRef)(t);return(0,j.useEffect)(function(){r.current=t},[t]),(0,j.useCallback)(function(e){for(var t,n=M(r.current);!(t=n()).done;){var i=t.value;null!=i&&("function"==typeof i?i(e):i.current=e)}},[r])}(r=p||(p={}))[r.None=0]="None",r[r.RenderStrategy=1]="RenderStrategy",r[r.Static=2]="Static",(i=g||(g={}))[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",(o=v||(v={})).Space=" ",o.Enter="Enter",o.Escape="Escape",o.Backspace="Backspace",o.ArrowLeft="ArrowLeft",o.ArrowUp="ArrowUp",o.ArrowRight="ArrowRight",o.ArrowDown="ArrowDown",o.Home="Home",o.End="End",o.PageUp="PageUp",o.PageDown="PageDown",o.Tab="Tab";var G=j.useLayoutEffect,Q={serverHandoffComplete:!1},W=0;function z(){return++W}function Z(){var e,t,n,r=(t=(e=(0,j.useState)(Q.serverHandoffComplete))[0],n=e[1],(0,j.useEffect)(function(){!0!==t&&n(!0)},[t]),(0,j.useEffect)(function(){!1===Q.serverHandoffComplete&&(Q.serverHandoffComplete=!0)},[]),t),i=(0,j.useState)(r?z:null),o=i[0],s=i[1];return G(function(){null===o&&s(z())},[o]),null!=o?""+o:void 0}var Y=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(function(e){return e+":not([tabindex='-1'])"}).join(",");(s=y||(y={}))[s.First=1]="First",s[s.Previous=2]="Previous",s[s.Next=4]="Next",s[s.Last=8]="Last",s[s.WrapAround=16]="WrapAround",s[s.NoScroll=32]="NoScroll",(a=m||(m={}))[a.Error=0]="Error",a[a.Overflow=1]="Overflow",a[a.Success=2]="Success",a[a.Underflow=3]="Underflow",(u=b||(b={}))[u.Previous=-1]="Previous",u[u.Next=1]="Next",(c=w||(w={}))[c.Strict=0]="Strict",c[c.Loose=1]="Loose";var J=(0,j.createContext)(null);function $(e){var t=e.value,n=e.children;return j.createElement(J.Provider,{value:t},n)}function X(e){if(e.type)return e.type;var t,n=null!=(t=e.as)?t:"button";if("string"==typeof n&&"button"===n.toLowerCase())return"button"}function ee(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add(function(){return cancelAnimationFrame(e)})}),nextFrame:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.requestAnimationFrame(function(){t.requestAnimationFrame.apply(t,n)})},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=setTimeout.apply(void 0,arguments);t.add(function(){return clearTimeout(e)})}),add:function(t){e.push(t)},dispose:function(){for(var t,n=M(e.splice(0));!(t=n()).done;)(0,t.value)()}};return t}function et(){var e=(0,j.useState)(ee)[0];return(0,j.useEffect)(function(){return function(){return e.dispose()}},[e]),e}J.displayName="OpenClosedContext",(l=S||(S={}))[l.Open=0]="Open",l[l.Closed=1]="Closed",(f=_||(_={}))[f.First=0]="First",f[f.Previous=1]="Previous",f[f.Next=2]="Next",f[f.Last=3]="Last",f[f.Specific=4]="Specific",f[f.Nothing=5]="Nothing",(h=I||(I={}))[h.Open=0]="Open",h[h.Closed=1]="Closed",(d=A||(A={}))[d.OpenMenu=0]="OpenMenu",d[d.CloseMenu=1]="CloseMenu",d[d.GoToItem=2]="GoToItem",d[d.Search=3]="Search",d[d.ClearSearch=4]="ClearSearch",d[d.RegisterItem=5]="RegisterItem",d[d.UnregisterItem=6]="UnregisterItem";var en=((C={})[A.CloseMenu]=function(e){return e.menuState===I.Closed?e:D({},e,{activeItemIndex:null,menuState:I.Closed})},C[A.OpenMenu]=function(e){return e.menuState===I.Open?e:D({},e,{menuState:I.Open})},C[A.GoToItem]=function(e,t){var n=function(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),i=null!=r?r:-1,o=function(){switch(e.focus){case _.First:return n.findIndex(function(e){return!t.resolveDisabled(e)});case _.Previous:var r=n.slice().reverse().findIndex(function(e,n,r){return(-1===i||!(r.length-n-1>=i))&&!t.resolveDisabled(e)});if(-1===r)return r;return n.length-1-r;case _.Next:return n.findIndex(function(e,n){return!(n<=i)&&!t.resolveDisabled(e)});case _.Last:var o=n.slice().reverse().findIndex(function(e){return!t.resolveDisabled(e)});if(-1===o)return o;return n.length-1-o;case _.Specific:return n.findIndex(function(n){return t.resolveId(n)===e.id});case _.Nothing:return null;default:!function(e){throw Error("Unexpected object: "+e)}(e)}}();return -1===o?r:o}(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:D({},e,{searchQuery:"",activeItemIndex:n})},C[A.Search]=function(e,t){var n=e.searchQuery+t.value.toLowerCase(),r=e.items.findIndex(function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled});return -1===r||r===e.activeItemIndex?D({},e,{searchQuery:n}):D({},e,{searchQuery:n,activeItemIndex:r})},C[A.ClearSearch]=function(e){return""===e.searchQuery?e:D({},e,{searchQuery:""})},C[A.RegisterItem]=function(e,t){return D({},e,{items:[].concat(e.items,[{id:t.id,dataRef:t.dataRef}])})},C[A.UnregisterItem]=function(e,t){var n=e.items.slice(),r=null!==e.activeItemIndex?n[e.activeItemIndex]:null,i=n.findIndex(function(e){return e.id===t.id});return -1!==i&&n.splice(i,1),D({},e,{items:n,activeItemIndex:i===e.activeItemIndex||null===r?null:n.indexOf(r)})},C),er=(0,j.createContext)(null);function ei(e){var t=(0,j.useContext)(er);if(null===t){var n=Error("<"+e+" /> is missing a parent <"+ea.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,ei),n}return t}function eo(e,t){return L(t.type,en,e,t)}er.displayName="MenuContext";var es=j.Fragment;function ea(e){var t,n,r,i,o,s=(0,j.useReducer)(eo,{menuState:I.Closed,buttonRef:(0,j.createRef)(),itemsRef:(0,j.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),a=s[0],u=a.menuState,c=a.itemsRef,l=a.buttonRef,f=s[1];t="mousedown",n=function(e){var t,n,r,i,o,s=e.target;u!==I.Open||(null==(r=l.current)?void 0:r.contains(s))||null!=(i=c.current)&&i.contains(s)||(f({type:A.CloseMenu}),void 0===(t=w.Loose)&&(t=w.Strict),s!==document.body&&L(t,((n={})[w.Strict]=function(){return s.matches(Y)},n[w.Loose]=function(){for(var e=s;null!==e;){if(e.matches(Y))return!0;e=e.parentElement}return!1},n))||(e.preventDefault(),null==(o=l.current)||o.focus()))},(i=(0,j.useRef)(n)).current=n,(0,j.useEffect)(function(){function e(e){i.current.call(window,e)}return window.addEventListener(t,e,void 0),function(){return window.removeEventListener(t,e,r)}},[t,r]);var h=(0,j.useMemo)(function(){return{open:u===I.Open}},[u]);return j.createElement(er.Provider,{value:s},j.createElement($,{value:L(u,((o={})[I.Open]=S.Open,o[I.Closed]=S.Closed,o))},B({props:e,slot:h,defaultTag:es,name:"Menu"})))}var eu=K(function e(t,n){var r,i,o,s,a,u=ei([ea.name,e.name].join(".")),c=u[0],l=u[1],f=H(c.buttonRef,n),h="headlessui-menu-button-"+Z(),d=et(),p=(0,j.useCallback)(function(e){switch(e.key){case v.Space:case v.Enter:case v.ArrowDown:e.preventDefault(),e.stopPropagation(),l({type:A.OpenMenu}),d.nextFrame(function(){return l({type:A.GoToItem,focus:_.First})});break;case v.ArrowUp:e.preventDefault(),e.stopPropagation(),l({type:A.OpenMenu}),d.nextFrame(function(){return l({type:A.GoToItem,focus:_.Last})})}},[l,d]),g=(0,j.useCallback)(function(e){e.key===v.Space&&e.preventDefault()},[]),y=(0,j.useCallback)(function(e){if(function(e){for(var t,n,r=e.parentElement,i=null;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(i=r),r=r.parentElement;var o=null!=(t=(null==(n=r)?void 0:n.getAttribute("disabled"))==="")&&t;return!(o&&function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(i))&&o}(e.currentTarget))return e.preventDefault();t.disabled||(c.menuState===I.Open?(l({type:A.CloseMenu}),d.nextFrame(function(){var e;return null==(e=c.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(e.preventDefault(),e.stopPropagation(),l({type:A.OpenMenu})))},[l,d,c,t.disabled]),m=(0,j.useMemo)(function(){return{open:c.menuState===I.Open}},[c]),b={ref:f,id:h,type:(r=c.buttonRef,o=(i=(0,j.useState)(function(){return X(t)}))[0],s=i[1],G(function(){s(X(t))},[t.type,t.as]),G(function(){!o&&r.current&&r.current instanceof HTMLButtonElement&&!r.current.hasAttribute("type")&&s("button")},[o,r]),o),"aria-haspopup":!0,"aria-controls":null==(a=c.itemsRef.current)?void 0:a.id,"aria-expanded":t.disabled?void 0:c.menuState===I.Open,onKeyDown:p,onKeyUp:g,onClick:y};return B({props:D({},t,b),slot:m,defaultTag:"button",name:"Menu.Button"})}),ec=p.RenderStrategy|p.Static,el=K(function e(t,n){var r,i,o,s,a,u,c,l,f,h,d=ei([ea.name,e.name].join(".")),p=d[0],g=d[1],y=H(p.itemsRef,n),m="headlessui-menu-items-"+Z(),b=et(),w=(0,j.useContext)(J),C=null!==w?w===S.Open:p.menuState===I.Open;(0,j.useEffect)(function(){var e=p.itemsRef.current;e&&p.menuState===I.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})},[p.menuState,p.itemsRef]),i=(r={container:p.itemsRef.current,enabled:p.menuState===I.Open,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}}).container,o=r.accept,s=r.walk,u=void 0===(a=r.enabled)||a,c=(0,j.useRef)(o),l=(0,j.useRef)(s),(0,j.useEffect)(function(){c.current=o,l.current=s},[o,s]),G(function(){if(i&&u)for(var e=c.current,t=l.current,n=Object.assign(function(t){return e(t)},{acceptNode:e}),r=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1);r.nextNode();)t(r.currentNode)},[i,u,c,l]);var E=(0,j.useCallback)(function(e){switch(b.dispose(),e.key){case v.Space:if(""!==p.searchQuery)return e.preventDefault(),e.stopPropagation(),g({type:A.Search,value:e.key});case v.Enter:if(e.preventDefault(),e.stopPropagation(),g({type:A.CloseMenu}),null!==p.activeItemIndex){var t,n=p.items[p.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}ee().nextFrame(function(){var e;return null==(e=p.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case v.ArrowDown:return e.preventDefault(),e.stopPropagation(),g({type:A.GoToItem,focus:_.Next});case v.ArrowUp:return e.preventDefault(),e.stopPropagation(),g({type:A.GoToItem,focus:_.Previous});case v.Home:case v.PageUp:return e.preventDefault(),e.stopPropagation(),g({type:A.GoToItem,focus:_.First});case v.End:case v.PageDown:return e.preventDefault(),e.stopPropagation(),g({type:A.GoToItem,focus:_.Last});case v.Escape:e.preventDefault(),e.stopPropagation(),g({type:A.CloseMenu}),ee().nextFrame(function(){var e;return null==(e=p.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case v.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(g({type:A.Search,value:e.key}),b.setTimeout(function(){return g({type:A.ClearSearch})},350))}},[g,b,p]),P=(0,j.useCallback)(function(e){e.key===v.Space&&e.preventDefault()},[]),T=(0,j.useMemo)(function(){return{open:p.menuState===I.Open}},[p]),U={"aria-activedescendant":null===p.activeItemIndex?void 0:null==(f=p.items[p.activeItemIndex])?void 0:f.id,"aria-labelledby":null==(h=p.buttonRef.current)?void 0:h.id,id:m,onKeyDown:E,onKeyUp:P,role:"menu",tabIndex:0,ref:y};return B({props:D({},t,U),slot:T,defaultTag:"div",features:ec,visible:C,name:"Menu.Items"})}),ef=j.Fragment;ea.Button=eu,ea.Items=el,ea.Item=function e(t){var n=t.disabled,r=void 0!==n&&n,i=t.onClick,o=F(t,["disabled","onClick"]),s=ei([ea.name,e.name].join(".")),a=s[0],u=s[1],c="headlessui-menu-item-"+Z(),l=null!==a.activeItemIndex&&a.items[a.activeItemIndex].id===c;G(function(){if(a.menuState===I.Open&&l){var e=ee();return e.nextFrame(function(){var e;return null==(e=document.getElementById(c))?void 0:null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})}),e.dispose}},[c,l,a.menuState]);var f=(0,j.useRef)({disabled:r});G(function(){f.current.disabled=r},[f,r]),G(function(){var e,t;f.current.textValue=null==(e=document.getElementById(c))?void 0:null==(t=e.textContent)?void 0:t.toLowerCase()},[f,c]),G(function(){return u({type:A.RegisterItem,id:c,dataRef:f}),function(){return u({type:A.UnregisterItem,id:c})}},[f,c]);var h=(0,j.useCallback)(function(e){return r?e.preventDefault():(u({type:A.CloseMenu}),ee().nextFrame(function(){var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),i)?i(e):void 0},[u,a.buttonRef,r,i]),d=(0,j.useCallback)(function(){if(r)return u({type:A.GoToItem,focus:_.Nothing});u({type:A.GoToItem,focus:_.Specific,id:c})},[r,c,u]),p=(0,j.useCallback)(function(){!r&&(l||u({type:A.GoToItem,focus:_.Specific,id:c}))},[r,l,c,u]),g=(0,j.useCallback)(function(){!r&&l&&u({type:A.GoToItem,focus:_.Nothing})},[r,l,u]),v=(0,j.useMemo)(function(){return{active:l,disabled:r}},[l,r]);return B({props:D({},o,{id:c,role:"menuitem",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,disabled:void 0,onClick:h,onFocus:d,onPointerMove:p,onMouseMove:p,onPointerLeave:g,onMouseLeave:g}),slot:v,defaultTag:ef,name:"Menu.Item"})};var eh=n(64749);function ed(){let{logout:e}=(0,O.Jo)();return(0,E.jsx)("div",{className:"text-right relative",children:(0,E.jsxs)(ea,{as:"div",className:"relative inline-block text-left",children:[(0,E.jsxs)(ea.Button,{className:"inline-flex justify-center w-full px-4 py-2 text-md font-bold text-white bg-black border border-gray-400 rounded-md bg-opacity-50 hover:bg-opacity-60 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:[(0,E.jsx)("span",{className:"m-auto tracking-wide",children:"Profile"}),(0,E.jsx)(eh.OrA,{className:"my-auto ml-1 font-bold",size:26})]}),(0,E.jsx)(ea.Items,{className:"z-30 origin-top-right absolute divide-y divide-gray-100 p-2 bg-white w-28 mt-2 border border-black rounded",children:(0,E.jsxs)("div",{className:"flex flex-col gap-1 divide-y text-center",children:[(0,E.jsx)(ea.Item,{children:e=>{let{active:t}=e;return(0,E.jsx)(R(),{href:"/messages",className:"".concat(t?"font-bold":""),children:"Messages"})}}),(0,E.jsx)(ea.Item,{children:e=>{let{active:t}=e;return(0,E.jsx)(R(),{href:"/profile",className:"".concat(t?"font-bold":""),children:"My Account"})}}),(0,E.jsx)(ea.Item,{children:(0,E.jsx)("button",{onClick:()=>e(),children:"Logout"})})]})})]})})}var ep=n(2914),eg=()=>{let{user:e,setUser:t}=(0,O.Jo)(),[n,r]=(0,j.useState)(!1);return(0,j.useEffect)(()=>{let e=()=>{window.innerWidth>=640&&r(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("header",{className:"w-full bg-white flex justify-between ml-1 py-2",children:[(0,E.jsx)(R(),{href:"/",className:"self-center text-xl font-bold",children:(0,E.jsx)("p",{className:"text-xl m-2",children:"NHL Stats Home \xa9"})}),(0,E.jsx)("button",{className:"sm:hidden flex items-center px-3 py-2",onClick:()=>r(!0),"aria-label":"Open sidebar",children:(0,E.jsx)(ep.Fm7,{size:24})}),(0,E.jsx)("nav",{className:"self-center my-2 mr-2 sm:my-0 hidden sm:block",children:(0,E.jsxs)("ul",{className:"flex",children:[(0,E.jsx)("li",{className:"my-auto px-2",children:(0,E.jsx)(R(),{href:"/teams",className:"text-xl",children:"Teams"})}),(0,E.jsx)("li",{className:"my-auto px-3 py-1",children:(0,E.jsx)(R(),{href:"/players",className:"text-xl",children:"Players"})}),(0,E.jsx)("li",{className:"my-auto px-3 py-1",children:(0,E.jsx)(R(),{href:"/drafts",className:"text-xl",children:"Drafts"})}),e?(0,E.jsx)("li",{children:(0,E.jsx)(ed,{})}):(0,E.jsx)("li",{children:(0,E.jsx)(R(),{href:"/login",passHref:!0,legacyBehavior:!0,children:(0,E.jsxs)("button",{className:"inline-flex justify-center w-full px-4 py-2 text-md font-bold text-white bg-black border border-gray-400 rounded-md bg-opacity-50 tracking-wider hover:bg-opacity-60 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:["Login",(0,E.jsx)(ep.m3W,{className:"ml-2 my-auto"})]})})})]})})]}),(0,E.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 transition-opacity ".concat(n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," sm:hidden"),onClick:()=>r(!1)}),(0,E.jsxs)("aside",{className:"fixed top-0 left-0 h-full w-64 bg-white shadow-lg z-50 transform transition-transform duration-300 ".concat(n?"translate-x-0":"-translate-x-full"," sm:hidden"),children:[(0,E.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,E.jsx)("span",{className:"font-bold text-xl",children:"Menu"}),(0,E.jsx)("button",{onClick:()=>r(!1),"aria-label":"Close sidebar",children:(0,E.jsx)(ep.aHS,{size:24})})]}),(0,E.jsx)("nav",{children:(0,E.jsxs)("ul",{className:"flex flex-col p-4 space-y-4",children:[(0,E.jsx)("li",{children:(0,E.jsx)(R(),{href:"/teams",onClick:()=>r(!1),className:"text-lg",children:"Teams"})}),(0,E.jsx)("li",{children:(0,E.jsx)(R(),{href:"/players",onClick:()=>r(!1),className:"text-lg",children:"Players"})}),(0,E.jsx)("li",{children:(0,E.jsx)(R(),{href:"/drafts",onClick:()=>r(!1),className:"text-lg",children:"Drafts"})}),e?(0,E.jsx)("li",{children:(0,E.jsx)(ed,{})}):(0,E.jsx)("li",{children:(0,E.jsx)(R(),{href:"/login",passHref:!0,legacyBehavior:!0,children:(0,E.jsxs)("button",{className:"inline-flex justify-center w-full px-4 py-2 text-md font-bold text-white bg-black border border-gray-400 rounded-md bg-opacity-50 tracking-wider hover:bg-opacity-60 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",onClick:()=>r(!1),children:["Login",(0,E.jsx)(ep.m3W,{className:"ml-2 my-auto"})]})})})]})})]})]})};function ev(e){let{children:t,title:n="Hockey Stats"}=e;return(0,E.jsxs)("div",{className:"",children:[(0,E.jsx)(T(),{children:(0,E.jsx)("link",{rel:"icon",href:"/images/ice-hockey-puck.svg"})}),(0,E.jsx)(eg,{}),(0,E.jsx)("main",{className:"overflow-auto min-h-screen flex flex-col",children:t}),(0,E.jsx)("footer",{className:"",children:(0,E.jsx)("h3",{children:"Hackey"})})]})}var ey=n(4298),em=n.n(ey),eb=n(86501);n(23434),n(25387).d.configure({aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:eaac7bb0-9584-49b3-a322-cec83cdb769b",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_LY4LFScSa",aws_user_pools_web_client_id:"5bhs02o144c5dcv9l6p5b1jqeu",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:6,passwordPolicyCharacters:["REQUIRES_LOWERCASE"]},aws_cognito_verification_mechanisms:["EMAIL"],aws_appsync_graphqlEndpoint:"https://bnudyl5eybcajlmcfrhctcfrsi.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_cloud_logic_custom:[{name:"restapithree",endpoint:"https://0wcp63wy9e.execute-api.us-east-1.amazonaws.com/staging",region:"us-east-1"}],aws_user_files_s3_bucket:"three1900875b17af49e68e61a6d8420dd5a560858-staging",aws_user_files_s3_bucket_region:"us-east-1",ssr:!0});let ew=new U.QueryClient;var eS=function(e){let{Component:t,pageProps:n}=e;return(0,E.jsxs)(U.QueryClientProvider,{client:ew,children:[(0,E.jsx)(U.Hydrate,{state:n.dehydratedState,children:(0,E.jsxs)(O.Ho,{children:[(0,E.jsxs)(T(),{children:[(0,E.jsx)("title",{children:"NHL Scores and Stats | hockeydb.xyz"}),(0,E.jsx)("meta",{title:"NHL Scores and Stats | hockeydb.xyz"}),(0,E.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,E.jsx)("meta",{name:"description",content:"hockeydb.xyz provides statistics for National Hockey League Teams and Players"}),(0,E.jsx)("meta",{name:"theme-color",content:"#319795"})]}),(0,E.jsx)(em(),{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=G-LP1YV83204"}),(0,E.jsx)(em(),{id:"gtag-init",strategy:"afterInteractive",children:"\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n\n                gtag('config', 'G-LP1YV83204');\n              "}),(0,E.jsx)(ev,{children:(0,E.jsx)(t,{...n})}),(0,E.jsx)(eb.x7,{})]})}),(0,E.jsx)(x.ReactQueryDevtools,{})]})}},23434:function(){},11987:function(e,t,n){!function(){var t={452:function(e){"use strict";e.exports=n(97334)}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,i),s=!1}finally{s&&delete r[e]}return o.exports}i.ab="//";var o={};!function(){var e,t=(e=i(452))&&"object"==typeof e&&"default"in e?e.default:e,n=/https?|ftp|gopher|file/;function r(e){"string"==typeof e&&(e=y(e));var r,i,o,s,a,u,c,l,f,h=(i=(r=e).auth,o=r.hostname,s=r.protocol||"",a=r.pathname||"",u=r.hash||"",c=r.query||"",l=!1,i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",r.host?l=i+r.host:o&&(l=i+(~o.indexOf(":")?"["+o+"]":o),r.port&&(l+=":"+r.port)),c&&"object"==typeof c&&(c=t.encode(c)),f=r.search||c&&"?"+c||"",s&&":"!==s.substr(-1)&&(s+=":"),r.slashes||(!s||n.test(s))&&!1!==l?(l="//"+(l||""),a&&"/"!==a[0]&&(a="/"+a)):l||(l=""),u&&"#"!==u[0]&&(u="#"+u),f&&"?"!==f[0]&&(f="?"+f),{protocol:s,host:l,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:f=f.replace("#","%23"),hash:u});return""+h.protocol+h.host+h.pathname+h.search+h.hash}var s="http://",a=s+"w.w",u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,c=/https?|ftp|gopher|file/;function l(e,t){var n="string"==typeof e?y(e):e;e="object"==typeof e?r(e):e;var i=y(t),o="";n.protocol&&!n.slashes&&(o=n.protocol,e=e.replace(n.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&i.protocol&&(o="",i.slashes||(o=i.protocol,t=t.replace(i.protocol,"")));var l=e.match(u);l&&!i.protocol&&(e=e.substr((o=l[1]+(l[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var f=new URL(e,a+"/"),h=new URL(t,f).toString().replace(a,""),d=i.protocol||n.protocol;return d+=n.slashes||i.slashes?"//":"",!o&&d?h=h.replace(s,d):o&&(h=h.replace(s,"")),c.test(h)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==h.slice(-1)||(h=h.slice(0,-1)),o&&(h=o+("/"===h[0]?h.substr(1):h)),h}function f(){}f.prototype.parse=y,f.prototype.format=r,f.prototype.resolve=l,f.prototype.resolveObject=l;var h=/^https?|ftp|gopher|file/,d=/^(.*?)([#?].*)/,p=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,v=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function y(e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof f)return e;var o=(e=e.trim()).match(d);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),v.test(e)&&"/"!==e.slice(-1)&&(e+="/");var s=!/(^javascript)/.test(e)&&e.match(p),u=g.test(e),c="";s&&(h.test(s[1])||(c=s[1].toLowerCase(),e=""+s[2]+s[3]),s[2]||(u=!1,h.test(s[1])?(c=s[1],e=""+s[3]):e="//"+s[3]),3!==s[2].length&&1!==s[2].length||(c=s[1],e="/"+s[3]));var l,y=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),m=y&&y[1],b=new f,w="",S="";try{l=new URL(e)}catch(t){w=t,c||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(S="/",e=e.substr(1));try{l=new URL(e,a)}catch(e){return b.protocol=c,b.href=c,b}}b.slashes=u&&!S,b.host="w.w"===l.host?"":l.host,b.hostname="w.w"===l.hostname?"":l.hostname.replace(/(\[|\])/g,""),b.protocol=w?c||null:l.protocol,b.search=l.search.replace(/\\/g,"%5C"),b.hash=l.hash.replace(/\\/g,"%5C");var _=e.split("#");!b.search&&~_[0].indexOf("?")&&(b.search="?"),b.hash||""!==_[1]||(b.hash="#"),b.query=n?t.decode(l.search.substr(1)):b.search.substr(1),b.pathname=S+(s?l.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):l.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),w&&"/"!==e[0]&&(b.pathname=b.pathname.substr(1)),c&&!h.test(c)&&"/"!==e.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[l.username,l.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=l.port,m&&!b.host.endsWith(m)&&(b.host+=m,b.port=m.slice(1)),b.href=S?""+b.pathname+b.search+b.hash:r(b);var C=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach(function(e){~C.indexOf(e)||(b[e]=b[e]||null)}),b}o.parse=y,o.format=r,o.resolve=l,o.resolveObject=function(e,t){return y(l(e,t))},o.Url=f}(),e.exports=o}()},77663:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u=[],c=!1,l=-1;function f(){c&&r&&(c=!1,r.length?u=r.concat(u):l=-1,u.length&&h())}function h(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(r=u,u=[];++l<t;)r&&r[l].run();l=-1,t=u.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||c||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i=r(229);e.exports=i}()},97334:function(e){!function(){"use strict";var t={815:function(e){e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,f,h,d,p=e[c].replace(s,"%20"),g=p.indexOf(r);(g>=0?(l=p.substr(0,g),f=p.substr(g+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),Object.prototype.hasOwnProperty.call(o,h))?t(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d}return o};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,s,a){return(o=o||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e)?r(i(e),function(i){var a=encodeURIComponent(t(i))+s;return n(e[i])?r(e[i],function(e){return a+encodeURIComponent(t(e))}).join(o):a+encodeURIComponent(t(e[i]))}).join(o):a?encodeURIComponent(t(a))+s+encodeURIComponent(t(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i={};i.decode=i.parse=r(815),i.encode=i.stringify=r(577),e.exports=i}()},9008:function(e,t,n){e.exports=n(23867)},41664:function(e,t,n){e.exports=n(98342)},4298:function(e,t,n){e.exports=n(23381)},20938:function(e){e.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}}},59852:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(75068),i=n(52943),o=n(52288),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!o.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"==typeof e?n.setFocused(e):n.onFocus()})},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(e){e()})},n.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(i.l))},46747:function(e,t,n){"use strict";n.d(t,{QueryClient:function(){return r.S}});var r=n(81832),i=n(86755);n.o(i,"Hydrate")&&n.d(t,{Hydrate:function(){return i.Hydrate}}),n.o(i,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return i.QueryClientProvider}}),n.o(i,"useQuery")&&n.d(t,{useQuery:function(){return i.useQuery}})},41909:function(e,t,n){"use strict";n.d(t,{E:function(){return o},j:function(){return i}});var r=console;function i(){return r}function o(e){r=e}},101:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(52288),i=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.A4)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.schedule(function(){e.apply(void 0,r)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.A4)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())},40068:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(75068),i=n(52943),o=n(52288),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!o.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"==typeof e?n.setOnline(e):n.onOnline()})},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(e){e()})},n.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},t}(i.l))},81832:function(e,t,n){"use strict";n.d(t,{S:function(){return y}});var r=n(87462),i=n(52288),o=n(75068),s=n(101),a=n(41909),u=n(21216),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,r.Z)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,i.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){!this.observers.length&&(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,r,o=this.state.data,s=(0,i.SE)(e,o);return(null==(n=(r=this.options).isDataEqual)?void 0:n.call(r,o,s))?s=o:!1!==this.options.structuralSharing&&(s=(0,i.Q$)(o,s)),this.dispatch({data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),s},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(i.ZT).catch(i.ZT):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.Kp)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,r,o,s,c,l,f=this;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise)return null==(n=this.retryer)||n.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var h=this.observers.find(function(e){return e.options.queryFn});h&&this.setOptions(h.options)}var d=(0,i.mc)(this.queryKey),p=(0,i.G9)(),g={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(p)return f.abortSignalConsumed=!0,p.signal}});var v={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return f.options.queryFn?(f.abortSignalConsumed=!1,f.options.queryFn(g)):Promise.reject("Missing queryFn")},meta:this.meta};return(null==(s=this.options.behavior)?void 0:s.onFetch)&&(null==(r=this.options.behavior)||r.onFetch(v)),this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(c=v.fetchOptions)?void 0:c.meta)||this.dispatch({type:"fetch",meta:null==(o=v.fetchOptions)?void 0:o.meta}),this.retryer=new u.m4({fn:v.fetchFn,abort:null==p?void 0:null==(l=p.abort)?void 0:l.bind(p),onSuccess:function(e){f.setData(e),null==f.cache.config.onSuccess||f.cache.config.onSuccess(e,f),0===f.cacheTime&&f.optionalRemove()},onError:function(e){(0,u.DV)(e)&&e.silent||f.dispatch({type:"error",error:e}),(0,u.DV)(e)||(null==f.cache.config.onError||f.cache.config.onError(e,f),(0,a.j)().error(e)),0===f.cacheTime&&f.optionalRemove()},onFail:function(){f.dispatch({type:"failed"})},onPause:function(){f.dispatch({type:"pause"})},onContinue:function(){f.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),s.V.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==e.initialData?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r=void 0!==t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var n,i;switch(t.type){case"failed":return(0,r.Z)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"fetch":return(0,r.Z)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,r.Z)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(i=t.dataUpdatedAt)?i:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=t.error;if((0,u.DV)(o)&&o.revert&&this.revertState)return(0,r.Z)({},this.revertState);return(0,r.Z)({},e,{error:o,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,r.Z)({},e,{isInvalidated:!0});case"setState":return(0,r.Z)({},e,t.state);default:return e}},e}(),l=n(52943),f=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,o.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,o=t.queryKey,s=null!=(r=t.queryHash)?r:(0,i.Rm)(o,t),a=this.get(s);return a||(a=new c({cache:this,queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o),meta:t.meta}),this.add(a)),a},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;s.V.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,i.I6)(e,t)[0];return void 0===n.exact&&(n.exact=!0),this.queries.find(function(e){return(0,i._x)(n,e)})},n.findAll=function(e,t){var n=(0,i.I6)(e,t)[0];return Object.keys(n).length>0?this.queries.filter(function(e){return(0,i._x)(n,e)}):this.queries},n.notify=function(e){var t=this;s.V.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){var e=this;s.V.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},n.onOnline=function(){var e=this;s.V.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(l.l),h=function(){function e(e){this.options=(0,r.Z)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(i.ZT).catch(i.ZT)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),r.then(function(){return t.executeMutation()}).then(function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,a.j)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new u.m4({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.Z)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"loading":return(0,r.Z)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.Z)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.Z)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.Z)({},e,t.state);default:return e}}(this.state,e),s.V.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}(),d=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,o.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new h({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},n.clear=function(){var e=this;s.V.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},n.getAll=function(){return this.mutations},n.find=function(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,i.X7)(e,t)})},n.findAll=function(e){return this.mutations.filter(function(t){return(0,i.X7)(e,t)})},n.notify=function(e){var t=this;s.V.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return s.V.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(i.ZT)})},Promise.resolve())})},t}(l.l),p=n(59852),g=n(40068);function v(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}var y=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new f,this.mutationCache=e.mutationCache||new d,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=p.j.subscribe(function(){p.j.isFocused()&&g.N.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=g.N.subscribe(function(){p.j.isFocused()&&g.N.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,i.I6)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.Z)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,n){var r=(0,i._v)(e),o=this.defaultQueryOptions(r);return this.queryCache.build(this,o).setData(t,n)},t.setQueriesData=function(e,t,n){var r=this;return s.V.batch(function(){return r.getQueryCache().findAll(e).map(function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]})})},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,i.I6)(e,t)[0],r=this.queryCache;s.V.batch(function(){r.findAll(n).forEach(function(e){r.remove(e)})})},t.resetQueries=function(e,t,n){var o=this,a=(0,i.I6)(e,t,n),u=a[0],c=a[1],l=this.queryCache,f=(0,r.Z)({},u,{active:!0});return s.V.batch(function(){return l.findAll(u).forEach(function(e){e.reset()}),o.refetchQueries(f,c)})},t.cancelQueries=function(e,t,n){var r=this,o=(0,i.I6)(e,t,n),a=o[0],u=o[1],c=void 0===u?{}:u;return void 0===c.revert&&(c.revert=!0),Promise.all(s.V.batch(function(){return r.queryCache.findAll(a).map(function(e){return e.cancel(c)})})).then(i.ZT).catch(i.ZT)},t.invalidateQueries=function(e,t,n){var o,a,u,c=this,l=(0,i.I6)(e,t,n),f=l[0],h=l[1],d=(0,r.Z)({},f,{active:null==(o=null!=(a=f.refetchActive)?a:f.active)||o,inactive:null!=(u=f.refetchInactive)&&u});return s.V.batch(function(){return c.queryCache.findAll(f).forEach(function(e){e.invalidate()}),c.refetchQueries(d,h)})},t.refetchQueries=function(e,t,n){var o=this,a=(0,i.I6)(e,t,n),u=a[0],c=a[1],l=Promise.all(s.V.batch(function(){return o.queryCache.findAll(u).map(function(e){return e.fetch(void 0,(0,r.Z)({},c,{meta:{refetchPage:null==u?void 0:u.refetchPage}}))})})).then(i.ZT);return(null==c?void 0:c.throwOnError)||(l=l.catch(i.ZT)),l},t.fetchQuery=function(e,t,n){var r=(0,i._v)(e,t,n),o=this.defaultQueryOptions(r);void 0===o.retry&&(o.retry=!1);var s=this.queryCache.build(this,o);return s.isStaleByTime(o.staleTime)?s.fetch(o):Promise.resolve(s.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.fetchInfiniteQuery=function(e,t,n){var r=(0,i._v)(e,t,n);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,r,o,s,a,c,l=null==(t=e.fetchOptions)?void 0:null==(n=t.meta)?void 0:n.refetchPage,f=null==(r=e.fetchOptions)?void 0:null==(o=r.meta)?void 0:o.fetchMore,h=null==f?void 0:f.pageParam,d=(null==f?void 0:f.direction)==="forward",p=(null==f?void 0:f.direction)==="backward",g=(null==(s=e.state.data)?void 0:s.pages)||[],y=(null==(a=e.state.data)?void 0:a.pageParams)||[],m=(0,i.G9)(),b=null==m?void 0:m.signal,w=y,S=!1,_=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},C=function(e,t,n,r){return w=r?[t].concat(w):[].concat(w,[t]),r?[n].concat(e):[].concat(e,[n])},I=function(t,n,r,i){if(S)return Promise.reject("Cancelled");if(void 0===r&&!n&&t.length)return Promise.resolve(t);var o=_({queryKey:e.queryKey,signal:b,pageParam:r,meta:e.meta}),s=Promise.resolve(o).then(function(e){return C(t,r,e,i)});return(0,u.LE)(o)&&(s.cancel=o.cancel),s};if(g.length){if(d){var A=void 0!==h,E=A?h:v(e.options,g);c=I(g,A,E)}else if(p){var P,T=void 0!==h,U=T?h:null==(P=e.options).getPreviousPageParam?void 0:P.getPreviousPageParam(g[0],g);c=I(g,T,U,!0)}else!function(){w=[];var t=void 0===e.options.getNextPageParam;c=!l||!g[0]||l(g[0],0,g)?I([],t,y[0]):Promise.resolve(C([],y[0],g[0]));for(var n=function(n){c=c.then(function(r){if(!l||!g[n]||l(g[n],n,g)){var i=t?y[n]:v(e.options,r);return I(r,t,i)}return Promise.resolve(C(r,y[n],g[n]))})},r=1;r<g.length;r++)n(r)}()}else c=I([]);var x=c.then(function(e){return{pages:e,pageParams:w}});return x.cancel=function(){S=!0,null==m||m.abort(),(0,u.LE)(c)&&c.cancel()},x}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.cancelMutations=function(){var e=this;return Promise.all(s.V.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})})).then(i.ZT).catch(i.ZT)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find(function(t){return(0,i.yF)(e)===(0,i.yF)(t.queryKey)});n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,i.to)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find(function(t){return(0,i.yF)(e)===(0,i.yF)(t.mutationKey)});n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,i.to)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.Z)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,i.Rm)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.Z)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},21216:function(e,t,n){"use strict";n.d(t,{DV:function(){return c},LE:function(){return a},m4:function(){return l}});var r=n(59852),i=n(40068),o=n(52288);function s(e){return Math.min(1e3*Math.pow(2,e),3e4)}function a(e){return"function"==typeof(null==e?void 0:e.cancel)}var u=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof u}var l=function(e){var t,n,c,l,f=this,h=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){h=!0},this.continueRetry=function(){h=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){c=e,l=t});var d=function(t){f.isResolved||(f.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),c(t))},p=function(t){f.isResolved||(f.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),l(t))};!function c(){var l;if(!f.isResolved){try{l=e.fn()}catch(e){l=Promise.reject(e)}t=function(e){if(!f.isResolved&&(p(new u(e)),null==f.abort||f.abort(),a(l)))try{l.cancel()}catch(e){}},f.isTransportCancelable=a(l),Promise.resolve(l).then(d).catch(function(t){if(!f.isResolved){var a,u,l=null!=(a=e.retry)?a:3,d=null!=(u=e.retryDelay)?u:s,g="function"==typeof d?d(f.failureCount,t):d,v=!0===l||"number"==typeof l&&f.failureCount<l||"function"==typeof l&&l(f.failureCount,t);if(h||!v){p(t);return}f.failureCount++,null==e.onFail||e.onFail(f.failureCount,t),(0,o.Gh)(g).then(function(){if(!r.j.isFocused()||!i.N.isOnline())return new Promise(function(t){n=t,f.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){n=void 0,f.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){h?p(t):c()})}})}}()}},52943:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==n}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},86755:function(){},52288:function(e,t,n){"use strict";n.d(t,{A4:function(){return _},G9:function(){return C},Gh:function(){return S},I6:function(){return f},Kp:function(){return c},PN:function(){return a},Q$:function(){return function e(t,n){if(t===n)return t;var r=Array.isArray(t)&&Array.isArray(n);if(r||m(t)&&m(n)){for(var i=r?t.length:Object.keys(t).length,o=r?n:Object.keys(n),s=o.length,a=r?[]:{},u=0,c=0;c<s;c++){var l=r?c:o[c];a[l]=e(t[l],n[l]),a[l]===t[l]&&u++}return i===s&&u===i?t:a}return n}},Rm:function(){return p},SE:function(){return s},VS:function(){return y},X7:function(){return d},ZT:function(){return o},_v:function(){return l},_x:function(){return h},mc:function(){return u},sk:function(){return i},to:function(){return v},yF:function(){return g}});var r=n(87462),i="undefined"==typeof window;function o(){}function s(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function u(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t,n){return w(e)?"function"==typeof t?(0,r.Z)({},n,{queryKey:e,queryFn:t}):(0,r.Z)({},t,{queryKey:e}):e}function f(e,t,n){return w(e)?[(0,r.Z)({},t,{queryKey:e}),n]:[e||{},t]}function h(e,t){var n=e.active,r=e.exact,i=e.fetching,o=e.inactive,s=e.predicate,a=e.queryKey,u=e.stale;if(w(a)){if(r){if(t.queryHash!==p(a,t.options))return!1}else if(!v(t.queryKey,a))return!1}var c=!0===n&&!0===o||null==n&&null==o?"all":!1===n&&!1===o?"none":(null!=n?n:!o)?"active":"inactive";if("none"===c)return!1;if("all"!==c){var l=t.isActive();if("active"===c&&!l||"inactive"===c&&l)return!1}return("boolean"!=typeof u||t.isStale()===u)&&("boolean"!=typeof i||t.isFetching()===i)&&(!s||!!s(t))}function d(e,t){var n=e.exact,r=e.fetching,i=e.predicate,o=e.mutationKey;if(w(o)){if(!t.options.mutationKey)return!1;if(n){if(g(t.options.mutationKey)!==g(o))return!1}else if(!v(t.options.mutationKey,o))return!1}return("boolean"!=typeof r||"loading"===t.state.status===r)&&(!i||!!i(t))}function p(e,t){return((null==t?void 0:t.queryKeyHashFn)||g)(e)}function g(e){return JSON.stringify(u(e),function(e,t){return m(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t})}function v(e,t){return function e(t,n){return t===n||typeof t==typeof n&&!!t&&!!n&&"object"==typeof t&&"object"==typeof n&&!Object.keys(n).some(function(r){return!e(t[r],n[r])})}(u(e),u(t))}function y(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function m(e){if(!b(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!(b(n)&&n.hasOwnProperty("isPrototypeOf"))}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){return"string"==typeof e||Array.isArray(e)}function S(e){return new Promise(function(t){setTimeout(t,e)})}function _(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function C(){if("function"==typeof AbortController)return new AbortController}},88767:function(e,t,n){"use strict";n.d(t,{Hydrate:function(){return i.Hydrate},QueryClient:function(){return r.QueryClient},QueryClientProvider:function(){return i.QueryClientProvider},useQuery:function(){return i.useQuery}});var r=n(46747);n.o(r,"Hydrate")&&n.d(t,{Hydrate:function(){return r.Hydrate}}),n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}}),n.o(r,"useQuery")&&n.d(t,{useQuery:function(){return r.useQuery}});var i=n(65081)},65081:function(e,t,n){"use strict";n.d(t,{Hydrate:function(){return P},QueryClientProvider:function(){return d},useQuery:function(){return E}});var r,i=n(101),o=n(73935).unstable_batchedUpdates;i.V.setBatchNotifyFunction(o);var s=n(41909),a=console;(0,s.E)(a);var u=n(67294),c=u.createContext(void 0),l=u.createContext(!1);function f(e){return e&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=c),window.ReactQueryClientContext):c}var h=function(){var e=u.useContext(f(u.useContext(l)));if(!e)throw Error("No QueryClient set, use QueryClientProvider to set one");return e},d=function(e){var t=e.client,n=e.contextSharing,r=void 0!==n&&n,i=e.children;u.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=f(r);return u.createElement(l.Provider,{value:r},u.createElement(o.Provider,{value:t},i))},p=n(87462),g=n(75068),v=n(52288),y=n(59852),m=n(52943),b=n(21216),w=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(n),r}(0,g.Z)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),S(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return _(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return _(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&C(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),i&&(this.currentQuery!==r||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();var o=this.computeRefetchInterval();i&&(this.currentQuery!==r||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,r={},i=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach(function(t){Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:function(){return i(t),e[t]}})}),(t.useErrorBoundary||t.suspense)&&i("error"),r},n.getNextResult=function(e){var t=this;return new Promise(function(n,r){var i=t.subscribe(function(t){t.isFetching||(i(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,p.Z)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then(function(){return t.createResult(r,n)})},n.fetch=function(e){var t=this;return this.executeFetch(e).then(function(){return t.updateResult(),t.currentResult})},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(v.ZT)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!v.sk&&!this.currentResult.isStale&&(0,v.PN)(this.options.staleTime)){var t=(0,v.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},t+1)}},n.computeRefetchInterval=function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!v.sk&&!1!==this.options.enabled&&(0,v.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||y.j.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(e,t){var n,r,i=this.currentQuery,o=this.options,a=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,l=e!==i,f=l?e.state:this.currentQueryInitialState,h=l?this.currentResult:this.previousQueryResult,d=e.state,p=d.dataUpdatedAt,g=d.error,y=d.errorUpdatedAt,m=d.isFetching,b=d.status,w=!1,_=!1;if(t.optimisticResults){var A=this.hasListeners(),E=!A&&S(e,t),P=A&&C(e,i,t,o);(E||P)&&(m=!0,p||(b="loading"))}if(t.keepPreviousData&&!d.dataUpdateCount&&(null==h?void 0:h.isSuccess)&&"error"!==b)n=h.data,p=h.dataUpdatedAt,b=h.status,w=!0;else if(t.select&&void 0!==d.data){if(a&&d.data===(null==u?void 0:u.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(d.data),!1!==t.structuralSharing&&(n=(0,v.Q$)(null==a?void 0:a.data,n)),this.selectResult=n,this.selectError=null}catch(e){(0,s.j)().error(e),this.selectError=e}}else n=d.data;if(void 0!==t.placeholderData&&void 0===n&&("loading"===b||"idle"===b)){if((null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==c?void 0:c.placeholderData))r=a.data;else if(r="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==r)try{r=t.select(r),!1!==t.structuralSharing&&(r=(0,v.Q$)(null==a?void 0:a.data,r)),this.selectError=null}catch(e){(0,s.j)().error(e),this.selectError=e}void 0!==r&&(b="success",n=r,_=!0)}return this.selectError&&(g=this.selectError,n=this.selectResult,y=Date.now(),b="error"),{status:b,isLoading:"loading"===b,isSuccess:"success"===b,isError:"error"===b,isIdle:"idle"===b,data:n,dataUpdatedAt:p,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>f.dataUpdateCount||d.errorUpdateCount>f.errorUpdateCount,isFetching:m,isRefetching:m&&"loading"!==b,isLoadingError:"error"===b&&0===d.dataUpdatedAt,isPlaceholderData:_,isPreviousData:w,isRefetchError:"error"===b&&0!==d.dataUpdatedAt,isStale:I(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,r=n.notifyOnChangeProps,i=n.notifyOnChangePropsExclusions;if(!r&&!i||"tracked"===r&&!this.trackedProps.length)return!0;var o="tracked"===r?this.trackedProps:r;return Object.keys(e).some(function(n){var r=e[n]!==t[n],s=null==o?void 0:o.some(function(e){return e===n}),a=null==i?void 0:i.some(function(e){return e===n});return r&&!a&&(!o||s)})},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,v.VS)(this.currentResult,t)){var n={cache:!0};(null==e?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,p.Z)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,b.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;i.V.batch(function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)}),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},t}(m.l);function S(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&_(e,t,t.refetchOnMount)}function _(e,t,n){if(!1!==t.enabled){var r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&I(e,t)}return!1}function C(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&I(e,n)}function I(e,t){return e.isStaleByTime(t.staleTime)}var A=u.createContext((r=!1,{clearReset:function(){r=!1},reset:function(){r=!0},isReset:function(){return r}}));function E(e,t,n){return function(e,t){var n,r,o,s=u.useRef(!1),a=u.useState(0)[1],c=h(),l=u.useContext(A),f=c.defaultQueryObserverOptions(e);f.optimisticResults=!0,f.onError&&(f.onError=i.V.batchCalls(f.onError)),f.onSuccess&&(f.onSuccess=i.V.batchCalls(f.onSuccess)),f.onSettled&&(f.onSettled=i.V.batchCalls(f.onSettled)),f.suspense&&("number"!=typeof f.staleTime&&(f.staleTime=1e3),0===f.cacheTime&&(f.cacheTime=1)),(f.suspense||f.useErrorBoundary)&&!l.isReset()&&(f.retryOnMount=!1);var d=u.useState(function(){return new t(c,f)})[0],p=d.getOptimisticResult(f);if(u.useEffect(function(){s.current=!0,l.clearReset();var e=d.subscribe(i.V.batchCalls(function(){s.current&&a(function(e){return e+1})}));return d.updateResult(),function(){s.current=!1,e()}},[l,d]),u.useEffect(function(){d.setOptions(f,{listeners:!1})},[f,d]),f.suspense&&p.isLoading)throw d.fetchOptimistic(f).then(function(e){var t=e.data;null==f.onSuccess||f.onSuccess(t),null==f.onSettled||f.onSettled(t,null)}).catch(function(e){l.clearReset(),null==f.onError||f.onError(e),null==f.onSettled||f.onSettled(void 0,e)});if(p.isError&&!l.isReset()&&!p.isFetching&&(n=f.suspense,r=f.useErrorBoundary,o=[p.error,d.getCurrentQuery()],"function"==typeof r?r.apply(void 0,o):"boolean"==typeof r?r:!!n))throw p.error;return"tracked"===f.notifyOnChangeProps&&(p=d.trackResult(p,f)),p}((0,v._v)(e,t,n),w)}var P=function(e){var t,n,r,i=e.children,o=e.options;return t=e.state,n=h(),(r=u.useRef(o)).current=o,u.useMemo(function(){t&&function(e,t,n){if("object"==typeof t&&null!==t){var r=e.getMutationCache(),i=e.getQueryCache(),o=t.mutations||[],s=t.queries||[];o.forEach(function(t){var i;r.build(e,(0,p.Z)({},null==n?void 0:null==(i=n.defaultOptions)?void 0:i.mutations,{mutationKey:t.mutationKey}),t.state)}),s.forEach(function(t){var r,o=i.get(t.queryHash);if(o){o.state.dataUpdatedAt<t.state.dataUpdatedAt&&o.setState(t.state);return}i.build(e,(0,p.Z)({},null==n?void 0:null==(r=n.defaultOptions)?void 0:r.queries,{queryKey:t.queryKey,queryHash:t.queryHash}),t.state)})}}(n,t,r.current)},[n,t]),i}},70655:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return S},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return A},__classPrivateFieldSet:function(){return E},__createBinding:function(){return h},__decorate:function(){return a},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return I},__importStar:function(){return C},__makeTemplateObject:function(){return _},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return s},__spread:function(){return v},__spreadArrays:function(){return y},__values:function(){return p}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{var n;(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},56249:function(){},87462:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{Z:function(){return r}})},75068:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return i}})},86501:function(e,t,n){"use strict";let r,i;n.d(t,{x7:function(){return eh},ZP:function(){return ed}});var o,s=n(67294);let a={data:""},u=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||a,c=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l=/\/\*[^]*?\*\/|  +/g,f=/\n+/g,h=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?h(s,o):o+"{"+h(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=h(s,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=h.p?h.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},d={},p=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+p(e[n]);return t}return e},g=(e,t,n,r,i)=>{var o;let s=p(e),a=d[s]||(d[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!d[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=c.exec(e.replace(l,""));)t[4]?r.shift():t[3]?(n=t[3].replace(f," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(f," ").trim();return r[0]})(e);d[a]=h(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let u=n&&d.g?d.g:null;return n&&(d.g=d[a]),o=d[a],u?t.data=t.data.replace(u,o):-1===t.data.indexOf(o)&&(t.data=r?o+t.data:t.data+o),a},v=(e,t,n)=>e.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":h(e,""):!1===e?"":e}return e+r+(null==o?"":o)},"");function y(e){let t=this||{},n=e.call?e(t.p):e;return g(n.unshift?n.raw?v(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,u(t.target),t.g,t.o,t.k)}y.bind({g:1});let m,b,w,S=y.bind({k:1});function _(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),u=a.className||i.className;n.p=Object.assign({theme:b&&b()},a),n.o=/ *go\d+/.test(u),a.className=y.apply(n,r)+(u?" "+u:""),t&&(a.ref=s);let c=e;return e[0]&&(c=a.as||e,delete a.as),w&&c[0]&&w(a),m(c,a)}return t?t(i):i}}var C=e=>"function"==typeof e,I=(e,t)=>C(e)?e(t):e,A=(r=0,()=>(++r).toString()),E=()=>{if(void 0===i&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i},P="default",T=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return T(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(e=>e.id===i||void 0===i?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+o}))}}},U=[],x={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},O={},k=(e,t=P)=>{O[t]=T(O[t]||x,e),U.forEach(([e,n])=>{e===t&&n(O[t])})},R=e=>Object.keys(O).forEach(t=>k(e,t)),D=e=>Object.keys(O).find(t=>O[t].toasts.some(t=>t.id===e)),F=(e=P)=>t=>{k(t,e)},N={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},M=(e={},t=P)=>{let[n,r]=(0,s.useState)(O[t]||x),i=(0,s.useRef)(O[t]);(0,s.useEffect)(()=>(i.current!==O[t]&&r(O[t]),U.push([t,r]),()=>{let e=U.findIndex(([e])=>e===t);e>-1&&U.splice(e,1)}),[t]);let o=n.toasts.map(t=>{var n,r,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||N[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}});return{...n,toasts:o}},j=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||A()}),L=e=>(t,n)=>{let r=j(t,e,n);return F(r.toasterId||D(r.id))({type:2,toast:r}),r.id},B=(e,t)=>L("blank")(e,t);B.error=L("error"),B.success=L("success"),B.loading=L("loading"),B.custom=L("custom"),B.dismiss=(e,t)=>{let n={type:3,toastId:e};t?F(t)(n):R(n)},B.dismissAll=e=>B.dismiss(void 0,e),B.remove=(e,t)=>{let n={type:4,toastId:e};t?F(t)(n):R(n)},B.removeAll=e=>B.remove(void 0,e),B.promise=(e,t,n)=>{let r=B.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?I(t.success,e):void 0;return i?B.success(i,{id:r,...n,...null==n?void 0:n.success}):B.dismiss(r),e}).catch(e=>{let i=t.error?I(t.error,e):void 0;i?B.error(i,{id:r,...n,...null==n?void 0:n.error}):B.dismiss(r)}),e};var q=1e3,K=(e,t="default")=>{let{toasts:n,pausedAt:r}=M(e,t),i=(0,s.useRef)(new Map).current,o=(0,s.useCallback)((e,t=q)=>{if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),a({type:4,toastId:e})},t);i.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(r<0){n.visible&&B.dismiss(n.id);return}return setTimeout(()=>B.dismiss(n.id,t),r)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let a=(0,s.useCallback)(F(t),[t]),u=(0,s.useCallback)(()=>{a({type:5,time:Date.now()})},[a]),c=(0,s.useCallback)((e,t)=>{a({type:1,toast:{id:e,height:t}})},[a]),l=(0,s.useCallback)(()=>{r&&a({type:6,time:Date.now()})},[r,a]),f=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=t||{},s=n.filter(t=>(t.position||o)===(e.position||o)&&t.height),a=s.findIndex(t=>t.id===e.id),u=s.filter((e,t)=>t<a&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[u+1]:[0,u]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:c,startPause:u,endPause:l,calculateOffset:f}}},V=S`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,H=S`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G=S`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Q=_("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${H} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${G} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,W=S`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,z=_("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${W} 1s linear infinite;
`,Z=S`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Y=S`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,J=_("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Z} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Y} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$=_("div")`
  position: absolute;
`,X=_("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ee=S`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,et=_("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ee} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,en=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?s.createElement(et,null,t):t:"blank"===n?null:s.createElement(X,null,s.createElement(z,{...r}),"loading"!==n&&s.createElement($,null,"error"===n?s.createElement(Q,{...r}):s.createElement(J,{...r})))},er=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ei=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,eo=_("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,es=_("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ea=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=E()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[er(n),ei(n)];return{animation:t?`${S(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${S(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eu=s.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?ea(e.position||t||"top-center",e.visible):{opacity:0},o=s.createElement(en,{toast:e}),a=s.createElement(es,{...e.ariaProps},I(e.message,e));return s.createElement(eo,{className:e.className,style:{...i,...n,...e.style}},"function"==typeof r?r({icon:o,message:a}):s.createElement(s.Fragment,null,o,a))});o=s.createElement,h.p=void 0,m=o,b=void 0,w=void 0;var ec=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=s.useCallback(t=>{if(t){let n=()=>{r(e,t.getBoundingClientRect().height)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return s.createElement("div",{ref:o,className:t,style:n},i)},el=(e,t)=>{let n=e.includes("top"),r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...n?{top:0}:{bottom:0},...r}},ef=y`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eh=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:a,containerClassName:u})=>{let{toasts:c,handlers:l}=K(n,o);return s.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:u,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(n=>{let o=n.position||t,a=el(o,l.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}));return s.createElement(ec,{id:n.id,key:n.id,onHeightUpdate:l.updateHeight,className:n.visible?ef:"",style:a},"custom"===n.type?I(n.message,n):i?i(n):s.createElement(eu,{toast:n,position:o}))}))},ed=B}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(91118),t(43079)}),_N_E=e.O()}]);