"use strict";(()=>{var e={};e.id=672,e.ids=[672],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,s)=>{Object.defineProperty(s,"l",{enumerable:!0,get:function(){return function e(s,t){return t in s?s[t]:"then"in s&&"function"==typeof s.then?s.then(s=>e(s,t)):"function"==typeof s&&"default"===t?s:void 0}}})},7313:(e,s,t)=>{t.r(s),t.d(s,{config:()=>u,default:()=>l,routeModule:()=>d});var o={};t.r(o),t.d(o,{default:()=>p});var r=t(1802),n=t(7153),a=t(6249),i=t(4210);async function p(e,s){console.log("whwhhwhwhwhhwhwhw");try{let e=`
    SELECT     ROW_NUMBER() OVER (ORDER BY ps."stat.points" DESC NULLS LAST, ps."stat.goals" DESC NULLS LAST) AS row_number,
    p."fullName", p.id, p."primaryPosition.code", ps."season", ps."team.name", ps."stat.goals", ps."stat.games",ps."stat.assists", ps."stat.points", ps."team.id"
    FROM staging1.player_stats_new ps
    INNER JOIN staging1.player p
    ON p.id = ps."person.id" AND p.active = true AND ps.season = 20222023
    WHERE ps."league.id" = 133
    ORDER BY ps."stat.points" DESC NULLS LAST,ps."stat.goals" DESC NULLS LAST
    LIMIT 200
    `,t=await i.Z.query(e);t=t.rows,s.status(200).json(t)}catch(e){console.log("errrrrrroooor"),console.log(e)}}let l=(0,a.l)(o,"default"),u=(0,a.l)(o,"config"),d=new r.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/players",pathname:"/api/players",bundlePath:"",filename:""},userland:o})},4210:(e,s,t)=>{t.d(s,{Z:()=>r});let o=new(require("pg")).Pool({user:process.env.DB_USER,password:process.env.DB_PASS,host:process.env.DB_URL,port:process.env.DB_PORT,database:process.env.DB_NAME,max:30,idleTimeoutMillis:3e4,connectionTimeoutMillis:8e3});o.on("error",(e,s)=>{console.error("Unexpected error on idle client",e)});let r=o},7153:(e,s)=>{var t;Object.defineProperty(s,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},1802:(e,s,t)=>{e.exports=t(145)}};var s=require("../../webpack-api-runtime.js");s.C(e);var t=s(s.s=7313);module.exports=t})();