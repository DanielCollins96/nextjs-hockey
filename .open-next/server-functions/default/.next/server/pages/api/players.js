try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3eb369e7-1d35-492b-bc6a-1b7162847056",e._sentryDebugIdIdentifier="sentry-dbid-3eb369e7-1d35-492b-bc6a-1b7162847056")}()}catch(e){}"use strict";(()=>{var e={};e.id=672,e.ids=[672],e.modules={58097:e=>{e.exports=require("@sentry/nextjs")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},56249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},28465:(e,t,s)=>{let n;s.r(t),s.d(t,{config:()=>P,default:()=>y,routeModule:()=>b});var r={};s.r(r),s.d(r,{config:()=>c,default:()=>g});var o=s(71802),a=s(47153),i=s(56249),p=s(43333),l=s(58097),d=Object.freeze({__proto__:null,default:async function(e,t){console.log("whwhhwhwhwhhwhwhw");try{let e=`
    SELECT     ROW_NUMBER() OVER (ORDER BY ps."stat.points" DESC NULLS LAST, ps."stat.goals" DESC NULLS LAST) AS row_number,
    p."fullName", p.id, p."primaryPosition.code", ps."season", ps."team.name", ps."stat.goals", ps."stat.games",ps."stat.assists", ps."stat.points", ps."team.id"
    FROM staging1.player_stats_new ps
    INNER JOIN staging1.player p
    ON p.id = ps."person.id" AND p.active = true AND ps.season = 20222023
    WHERE ps."league.id" = 133
    ORDER BY ps."stat.points" DESC NULLS LAST,ps."stat.goals" DESC NULLS LAST
    LIMIT 200
    `,s=await p.Z.query(e);s=s.rows,t.status(200).json(s)}catch(e){console.log("errrrrrroooor"),console.log(e)}}});"default"in d&&"function"==typeof d.default?n=d.default:"function"==typeof d&&(n=d);let u=d.config||{},c={...u,api:{...u.api,externalResolver:!0}},f=n;f&&(f=l.wrapApiHandlerWithSentry(f,"/api/players"));let g=f,y=(0,i.l)(r,"default"),P=(0,i.l)(r,"config"),b=new o.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/players",pathname:"/api/players",bundlePath:"",filename:""},userland:r})},43333:(e,t,s)=>{s.d(t,{Z:()=>r});let n=new(require("pg")).Pool({user:process.env.DB_USER,password:process.env.DB_PASS,host:process.env.DB_URL,port:process.env.DB_PORT,database:process.env.DB_NAME,max:30,idleTimeoutMillis:3e4,connectionTimeoutMillis:8e3});n.on("error",(e,t)=>{console.error("Unexpected error on idle client",e)});let r=n},47153:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},71802:(e,t,s)=>{e.exports=s(20145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var s=t(t.s=28465);module.exports=s})();
//# sourceMappingURL=players.js.map