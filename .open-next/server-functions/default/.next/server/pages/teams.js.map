{"version":3,"file":"../pages/teams.js","mappings":"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","sources":["webpack://hockey/pages/teams/index.js","webpack://hockey/sentry-wrapper-module","webpack://hockey/./node_modules/next/dist/build/templates/helpers.js","webpack://hockey/?a3d7","webpack://hockey/./node_modules/next/dist/server/future/route-kind.js","webpack://hockey/external commonjs \"@sentry/nextjs\"","webpack://hockey/external commonjs \"aws-amplify\"","webpack://hockey/external commonjs \"next/dist/compiled/next-server/pages.runtime.prod.js\"","webpack://hockey/external commonjs \"next/head\"","webpack://hockey/external commonjs \"pg\"","webpack://hockey/external commonjs \"react\"","webpack://hockey/external commonjs \"react-dom\"","webpack://hockey/external commonjs \"react-query\"","webpack://hockey/external commonjs \"react-query/devtools\"","webpack://hockey/external commonjs \"react-query/hydration\"","webpack://hockey/external commonjs \"react/jsx-runtime\"","webpack://hockey/external commonjs2 \"path\"","webpack://hockey/external module \"react-hot-toast\""],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useQuery } from 'react-query';\nimport TeamBox from '../../components/TeamBox'; \nimport Head from 'next/head'\nimport { getTeams } from '../../lib/queries';\n\n\nexport default function Teams({rosters}) {\n\n    const [loading, setLoading] = useState(true)\n    const [filteredTeams, setFilteredTeams] = useState([]);\n\n\n    useEffect(() => {\n        setFilteredTeams(rosters)\n    }, [rosters])\n    \n    const inputChange = (e) => {\n        let searchTerm = e.target.value\n        console.log(e.target.value);\n        let newList = rosters\n        .filter((team) => team.team.name.toLowerCase().includes(searchTerm.toLowerCase()) )\n        setFilteredTeams(newList)\n    }\n\n    return (\n        <div>\n            <Head>\n               <title>\n                NHL Rosters | hockeydb.xyz\n                </title> \n                <script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2056923001767627\"\n     crossOrigin=\"anonymous\"></script>\n            </Head>\n            <div className=\"relative w-5/6 max-w-sm m-auto box-border\">\n                <label className=\"absolute left-0 top-0 font-bold m-4\" htmlFor=\"filter\">Search By Team</label>\n                <input autoFocus onChange={inputChange} className=\"text-lg rounded-sm px-4 pb-3 pt-8 mt-2 focus:outline-none bg-gray-300 w-full\" type=\"text\" name=\"filter\" id=\"filter\" />\n            </div>\n            {/* <div className=\"flex flex-wrap justify-center my-2 mx-4\"> */}\n            <div className=\"grid m-1 md:grid-cols-2 xl:grid-cols-3\">\n            {/* <p>{JSON.stringify(filteredTeams)}</p> */}\n                {\n                    filteredTeams &&\n                    filteredTeams\n                    .sort((teamA, teamB) => {\n                        return teamA.team.abbreviation > teamB.team.abbreviation ? 1 : -1\n                    })                    \n                    .map((team) => <TeamBox team={team} key={team.abbreviation}/>)\n                }       \n            </div>\n        </div>\n    )\n}\n\nexport async function getStaticProps() {\n    try {\n        // const teams = await fetchPlayers();\n        const teams = await getTeams();\n        // console.log(teams);\n        \n        if (!teams) {\n            return {\n                props: {\n                    rosters: []\n                },\n                revalidate: 60, // Try again in 1 minute\n            }\n        }\n        \n        const fetchRosterPromises = teams.map(team => {\n            let url = `https://api-web.nhle.com/v1/roster/${team.abbreviation}/current`\n            console.log(url);\n            return fetch(url)\n                .then(res => res.json())\n                .then(data => ({\n                    team,\n                    roster: ['forwards', 'defensemen', 'goalies'].reduce((acc,position) =>\n                    {\n                    acc[position] = data[position]?.map(person => ({\n                        position: position,\n                        id: person.id,\n                        sweaterNumber: person.sweaterNumber ?? null,\n                        firstName: person.firstName?.default,\n                        lastName: person.lastName?.default,\n                    })) || []\n                    return acc\n                    }\n                ,{}),\n                }))\n        })\n\n        const rosters = await Promise.all(fetchRosterPromises)\n\n        console.log(rosters);\n\n        return {\n            props: {\n                rosters\n            },\n            revalidate: 3600\n        }\n    } catch (error) {\n        console.log('Database connection failed, returning empty rosters')\n        return {\n            props: {\n                rosters: []\n            },\n            revalidate: 60, // Try again in 1 minute\n        }\n    }\n}\n","import * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n/*\n * This file is a template for the code which will be substituted when our webpack loader handles non-API files in the\n * `pages/` directory.\n *\n * We use `__SENTRY_WRAPPING_TARGET_FILE__.cjs` as a placeholder for the path to the file being wrapped. Because it's not a real package,\n * this causes both TS and ESLint to complain, hence the pragma comments below.\n */\n\n\nconst userPageModule = serverComponentModule ;\n\nconst pageComponent = userPageModule ? userPageModule.default : undefined;\n\nconst origGetInitialProps = pageComponent ? pageComponent.getInitialProps : undefined;\nconst origGetStaticProps = userPageModule ? userPageModule.getStaticProps : undefined;\nconst origGetServerSideProps = userPageModule ? userPageModule.getServerSideProps : undefined;\n\n// Rollup will aggressively tree-shake what it perceives to be unused properties\n// on objects. Because the key that's used to index into this object (/teams)\n// is replaced during bundling, Rollup can't see that these properties are in fact\n// used. Using `Object.freeze` signals to Rollup that it should not tree-shake\n// this object.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst getInitialPropsWrappers = Object.freeze({\n  '/_app': Sentry.wrapAppGetInitialPropsWithSentry,\n  '/_document': Sentry.wrapDocumentGetInitialPropsWithSentry,\n  '/_error': Sentry.wrapErrorGetInitialPropsWithSentry,\n});\n\nconst getInitialPropsWrapper = getInitialPropsWrappers['/teams'] || Sentry.wrapGetInitialPropsWithSentry;\n\nif (pageComponent && typeof origGetInitialProps === 'function') {\n  pageComponent.getInitialProps = getInitialPropsWrapper(origGetInitialProps) ;\n}\n\nconst getStaticProps =\n  typeof origGetStaticProps === 'function'\n    ? Sentry.wrapGetStaticPropsWithSentry(origGetStaticProps, '/teams')\n    : undefined;\nconst getServerSideProps =\n  typeof origGetServerSideProps === 'function'\n    ? Sentry.wrapGetServerSidePropsWithSentry(origGetServerSideProps, '/teams')\n    : undefined;\n\nconst pageWrapperTemplate = pageComponent ? Sentry.wrapPageComponentWithSentry(pageComponent ) : pageComponent;\n\nexport { pageWrapperTemplate as default, getServerSideProps, getStaticProps };\n","/**\n * Hoists a name from a module or promised module.\n *\n * @param module the module to hoist the name from\n * @param name the name to hoist\n * @returns the value on the module (or promised module)\n */ \"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"hoist\", {\n    enumerable: true,\n    get: function() {\n        return hoist;\n    }\n});\nfunction hoist(module, name) {\n    // If the name is available in the module, return it.\n    if (name in module) {\n        return module[name];\n    }\n    // If a property called `then` exists, assume it's a promise and\n    // return a promise that resolves to the name.\n    if (\"then\" in module && typeof module.then === \"function\") {\n        return module.then((mod)=>hoist(mod, name));\n    }\n    // If we're trying to hoise the default export, and the module is a function,\n    // return the module itself.\n    if (typeof module === \"function\" && name === \"default\") {\n        return module;\n    }\n    // Otherwise, return undefined.\n    return undefined;\n}\n\n//# sourceMappingURL=helpers.js.map","import { PagesRouteModule } from \"next/dist/server/future/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\nimport { hoist } from \"next/dist/build/templates/helpers\";\n// Import the app and document modules.\nimport Document from \"private-next-pages/_document.js\";\nimport App from \"private-next-pages/_app.js\";\n// Import the userland code.\nimport * as userland from \"private-next-pages/teams/index.js\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, \"default\");\n// Re-export methods.\nexport const getStaticProps = hoist(userland, \"getStaticProps\");\nexport const getStaticPaths = hoist(userland, \"getStaticPaths\");\nexport const getServerSideProps = hoist(userland, \"getServerSideProps\");\nexport const config = hoist(userland, \"config\");\nexport const reportWebVitals = hoist(userland, \"reportWebVitals\");\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, \"unstable_getStaticProps\");\nexport const unstable_getStaticPaths = hoist(userland, \"unstable_getStaticPaths\");\nexport const unstable_getStaticParams = hoist(userland, \"unstable_getStaticParams\");\nexport const unstable_getServerProps = hoist(userland, \"unstable_getServerProps\");\nexport const unstable_getServerSideProps = hoist(userland, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/teams\",\n        pathname: \"/teams\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App,\n        Document\n    },\n    userland\n});\n\n//# sourceMappingURL=pages.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"RouteKind\", {\n    enumerable: true,\n    get: function() {\n        return RouteKind;\n    }\n});\nvar RouteKind;\n(function(RouteKind) {\n    /**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */ RouteKind[\"PAGES\"] = \"PAGES\";\n    /**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */ RouteKind[\"PAGES_API\"] = \"PAGES_API\";\n    /**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */ RouteKind[\"APP_PAGE\"] = \"APP_PAGE\";\n    /**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */ RouteKind[\"APP_ROUTE\"] = \"APP_ROUTE\";\n})(RouteKind || (RouteKind = {}));\n\n//# sourceMappingURL=route-kind.js.map","module.exports = require(\"@sentry/nextjs\");","module.exports = require(\"aws-amplify\");","module.exports = require(\"next/dist/compiled/next-server/pages.runtime.prod.js\");","module.exports = require(\"next/head\");","module.exports = require(\"pg\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-query\");","module.exports = require(\"react-query/devtools\");","module.exports = require(\"react-query/hydration\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"path\");","module.exports = import(\"react-hot-toast\");;"],"names":["rosters","loading","setLoading","useState","filteredTeams","setFilteredTeams","_jsxs","div","Head","_jsx","title","children","script","async","src","crossOrigin","className","label","htmlFor","input","autoFocus","onChange","searchTerm","e","target","value","console","log","filter","team","name","toLowerCase","includes","type","id","sort","teamA","teamB","abbreviation","map","TeamBox","teams","getTeams","props","revalidate","fetchRosterPromises","url","fetch","then","res","json","data","roster","reduce","acc","position","person","sweaterNumber","firstName","default","lastName","Promise","all","error","pageComponent","userPageModule","undefined","origGetInitialProps","getInitialProps","origGetStaticProps","getStaticProps","origGetServerSideProps","getServerSideProps","getInitialPropsWrapper","getInitialPropsWrappers","freeze","_sentry_nextjs__WEBPACK_IMPORTED_MODULE_6__","wrapAppGetInitialPropsWithSentry","wrapDocumentGetInitialPropsWithSentry","wrapErrorGetInitialPropsWithSentry","wrapGetInitialPropsWithSentry","wrapGetStaticPropsWithSentry","wrapGetServerSidePropsWithSentry","pageWrapperTemplate","wrapPageComponentWithSentry","Object","defineProperty","exports","enumerable","get","hoist","module","mod","__WEBPACK_DEFAULT_EXPORT__","next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__","l","private_next_pages_teams_index_js__WEBPACK_IMPORTED_MODULE_5__","getStaticPaths","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__","PagesRouteModule","definition","kind","next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__","x","PAGES","page","pathname","bundlePath","filename","components","App","private_next_pages_app_js__WEBPACK_IMPORTED_MODULE_4__","Document","private_next_pages_document_js__WEBPACK_IMPORTED_MODULE_3__","userland","RouteKind","require"],"sourceRoot":""}